/*! For license information please see sdk.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SilverSurferSDK=e():t.SilverSurferSDK=e()}(window,(function(){return(()=>{var t={558:(t,e,n)=>{"use strict";Array.isArray;var r,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},i="object"==typeof o&&o&&o.Object===Object&&o,a="object"==typeof self&&self&&self.Object===Object&&self,u=i||a||Function("return this")(),s=u.Symbol,c=Object.prototype,l=c.hasOwnProperty,f=c.toString,p=s?s.toStringTag:void 0,d=Object.prototype.toString,h=s?s.toStringTag:void 0,v=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":h&&h in Object(t)?function(t){var e=l.call(t,p),n=t[p];try{t[p]=void 0;var r=!0}catch(t){}var o=f.call(t);return r&&(e?t[p]=n:delete t[p]),o}(t):function(t){return d.call(t)}(t)},y=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},b=u["__core-js_shared__"],g=(r=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",w=Function.prototype.toString,m=/^\[object .+?Constructor\]$/,_=Function.prototype,S=Object.prototype,O=_.toString,x=S.hasOwnProperty,I=RegExp("^"+O.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=function(t){return!(!y(t)||(e=t,g&&g in e))&&(function(t){if(!y(t))return!1;var e=v(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?I:m).test(function(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e},A=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return E(n)?n:void 0},j=A(Object,"create"),T=Object.prototype.hasOwnProperty,C=Object.prototype.hasOwnProperty;function N(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}N.prototype.clear=function(){this.__data__=j?j(null):{},this.size=0},N.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},N.prototype.get=function(t){var e=this.__data__;if(j){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return T.call(e,t)?e[t]:void 0},N.prototype.has=function(t){var e=this.__data__;return j?void 0!==e[t]:C.call(e,t)},N.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=j&&void 0===e?"__lodash_hash_undefined__":e,this};var P=N,D=function(t,e){for(var n=t.length;n--;)if((r=t[n][0])===(o=e)||r!=r&&o!=o)return n;var r,o;return-1},k=Array.prototype.splice;function R(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}R.prototype.clear=function(){this.__data__=[],this.size=0},R.prototype.delete=function(t){var e=this.__data__,n=D(e,t);return!(n<0||(n==e.length-1?e.pop():k.call(e,n,1),--this.size,0))},R.prototype.get=function(t){var e=this.__data__,n=D(e,t);return n<0?void 0:e[n][1]},R.prototype.has=function(t){return D(this.__data__,t)>-1},R.prototype.set=function(t,e){var n=this.__data__,r=D(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var L=R,M=A(u,"Map"),G=function(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map};function B(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}B.prototype.clear=function(){this.size=0,this.__data__={hash:new P,map:new(M||L),string:new P}},B.prototype.delete=function(t){var e=G(this,t).delete(t);return this.size-=e?1:0,e},B.prototype.get=function(t){return G(this,t).get(t)},B.prototype.has=function(t){return G(this,t).has(t)},B.prototype.set=function(t,e){var n=G(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var z=B;function V(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(V.Cache||z),n}V.Cache=z;var U,F,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/\\(\\)?/g,$=(U=V((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(H,(function(t,n,r,o){e.push(r?o.replace(W,"$1"):n||t)})),e}),(function(t){return 500===F.size&&F.clear(),t})),F=U.cache,s?s.prototype:void 0);$&&$.toString;function q(){return!("undefined"==typeof window||!window.location||!window.location.hostname)&&window.location.hostname.includes("fandom.com")}e.sH=function(){return q()?"https://services.fandom.com/":"https://services.fandom-dev.us/"},e.yv=function(){return!0}},9996:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?u((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function o(t,e,n){return t.concat(e).map((function(t){return r(t,n)}))}function i(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function u(t,n,s){(s=s||{}).arrayMerge=s.arrayMerge||o,s.isMergeableObject=s.isMergeableObject||e,s.cloneUnlessOtherwiseSpecified=r;var c=Array.isArray(n);return c===Array.isArray(t)?c?s.arrayMerge(t,n,s):function(t,e,n){var o={};return n.isMergeableObject(t)&&i(t).forEach((function(e){o[e]=r(t[e],n)})),i(e).forEach((function(i){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(a(t,i)&&n.isMergeableObject(e[i])?o[i]=function(t,e){if(!e.customMerge)return u;var n=e.customMerge(t);return"function"==typeof n?n:u}(i,n)(t[i],e[i],n):o[i]=r(e[i],n))})),o}(t,n,s):r(n,s)}u.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return u(t,n,e)}),{})};var s=u;t.exports=s},8552:(t,e,n)=>{var r=n(852)(n(5639),"DataView");t.exports=r},1989:(t,e,n)=>{var r=n(1789),o=n(401),i=n(7667),a=n(1327),u=n(1866);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},8407:(t,e,n)=>{var r=n(7040),o=n(4125),i=n(2117),a=n(7518),u=n(4705);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},7071:(t,e,n)=>{var r=n(852)(n(5639),"Map");t.exports=r},3369:(t,e,n)=>{var r=n(4785),o=n(1285),i=n(6e3),a=n(9916),u=n(5265);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},3818:(t,e,n)=>{var r=n(852)(n(5639),"Promise");t.exports=r},8525:(t,e,n)=>{var r=n(852)(n(5639),"Set");t.exports=r},8668:(t,e,n)=>{var r=n(3369),o=n(619),i=n(2385);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},6384:(t,e,n)=>{var r=n(8407),o=n(7465),i=n(3779),a=n(7599),u=n(4758),s=n(4309);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},2705:(t,e,n)=>{var r=n(5639).Symbol;t.exports=r},1149:(t,e,n)=>{var r=n(5639).Uint8Array;t.exports=r},577:(t,e,n)=>{var r=n(852)(n(5639),"WeakMap");t.exports=r},6874:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},7412:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},4963:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},7443:(t,e,n)=>{var r=n(2118);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},1196:t=>{t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},4636:(t,e,n)=>{var r=n(2545),o=n(5694),i=n(1469),a=n(4144),u=n(5776),s=n(6719),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),p=!n&&!l&&!f&&s(t),d=n||l||f||p,h=d?r(t.length,String):[],v=h.length;for(var y in t)!e&&!c.call(t,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,v))||h.push(y);return h}},9932:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},2488:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},2908:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},4865:(t,e,n)=>{var r=n(9465),o=n(7813),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},4037:(t,e,n)=>{var r=n(8363),o=n(3674);t.exports=function(t,e){return t&&r(e,o(e),t)}},3886:(t,e,n)=>{var r=n(8363),o=n(1704);t.exports=function(t,e){return t&&r(e,o(e),t)}},9465:(t,e,n)=>{var r=n(8777);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5990:(t,e,n)=>{var r=n(6384),o=n(7412),i=n(4865),a=n(4037),u=n(3886),s=n(4626),c=n(278),l=n(8805),f=n(1911),p=n(8234),d=n(6904),h=n(4160),v=n(3824),y=n(9148),b=n(8517),g=n(1469),w=n(4144),m=n(6688),_=n(3218),S=n(2928),O=n(3674),x=n(1704),I="[object Arguments]",E="[object Function]",A="[object Object]",j={};j[I]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[A]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[E]=j["[object WeakMap]"]=!1,t.exports=function t(e,n,T,C,N,P){var D,k=1&n,R=2&n,L=4&n;if(T&&(D=N?T(e,C,N,P):T(e)),void 0!==D)return D;if(!_(e))return e;var M=g(e);if(M){if(D=v(e),!k)return c(e,D)}else{var G=h(e),B=G==E||"[object GeneratorFunction]"==G;if(w(e))return s(e,k);if(G==A||G==I||B&&!N){if(D=R||B?{}:b(e),!k)return R?f(e,u(D,e)):l(e,a(D,e))}else{if(!j[G])return N?e:{};D=y(e,G,k)}}P||(P=new r);var z=P.get(e);if(z)return z;P.set(e,D),S(e)?e.forEach((function(r){D.add(t(r,n,T,r,e,P))})):m(e)&&e.forEach((function(r,o){D.set(o,t(r,n,T,o,e,P))}));var V=M?void 0:(L?R?d:p:R?x:O)(e);return o(V||e,(function(r,o){V&&(r=e[o=r]),i(D,o,t(r,n,T,o,e,P))})),D}},3118:(t,e,n)=>{var r=n(3218),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},1848:t=>{t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},1078:(t,e,n)=>{var r=n(2488),o=n(7285);t.exports=function t(e,n,i,a,u){var s=-1,c=e.length;for(i||(i=o),u||(u=[]);++s<c;){var l=e[s];n>0&&i(l)?n>1?t(l,n-1,i,a,u):r(u,l):a||(u[u.length]=l)}return u}},7786:(t,e,n)=>{var r=n(1811),o=n(327);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},8866:(t,e,n)=>{var r=n(2488),o=n(1469);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},4239:(t,e,n)=>{var r=n(2705),o=n(9607),i=n(2333),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},2118:(t,e,n)=>{var r=n(1848),o=n(2722),i=n(2351);t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},9454:(t,e,n)=>{var r=n(4239),o=n(7005);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},939:(t,e,n)=>{var r=n(2492),o=n(7005);t.exports=function t(e,n,i,a,u){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,u))}},2492:(t,e,n)=>{var r=n(6384),o=n(7114),i=n(8351),a=n(6096),u=n(4160),s=n(1469),c=n(4144),l=n(6719),f="[object Arguments]",p="[object Array]",d="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,y,b){var g=s(t),w=s(e),m=g?p:u(t),_=w?p:u(e),S=(m=m==f?d:m)==d,O=(_=_==f?d:_)==d,x=m==_;if(x&&c(t)){if(!c(e))return!1;g=!0,S=!1}if(x&&!S)return b||(b=new r),g||l(t)?o(t,e,n,v,y,b):i(t,e,m,n,v,y,b);if(!(1&n)){var I=S&&h.call(t,"__wrapped__"),E=O&&h.call(e,"__wrapped__");if(I||E){var A=I?t.value():t,j=E?e.value():e;return b||(b=new r),y(A,j,n,v,b)}}return!!x&&(b||(b=new r),a(t,e,n,v,y,b))}},5588:(t,e,n)=>{var r=n(4160),o=n(7005);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},2958:(t,e,n)=>{var r=n(6384),o=n(939);t.exports=function(t,e,n,i){var a=n.length,u=a,s=!i;if(null==t)return!u;for(t=Object(t);a--;){var c=n[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<u;){var l=(c=n[a])[0],f=t[l],p=c[1];if(s&&c[2]){if(void 0===f&&!(l in t))return!1}else{var d=new r;if(i)var h=i(f,p,l,t,e,d);if(!(void 0===h?o(p,f,3,i,d):h))return!1}}return!0}},2722:t=>{t.exports=function(t){return t!=t}},8458:(t,e,n)=>{var r=n(3560),o=n(5346),i=n(3218),a=n(346),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:u).test(a(t))}},9221:(t,e,n)=>{var r=n(4160),o=n(7005);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},8749:(t,e,n)=>{var r=n(4239),o=n(1780),i=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},7206:(t,e,n)=>{var r=n(1573),o=n(6432),i=n(6557),a=n(1469),u=n(9601);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):u(t)}},280:(t,e,n)=>{var r=n(5726),o=n(6916),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},313:(t,e,n)=>{var r=n(3218),o=n(5726),i=n(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&n.push(u);return n}},1573:(t,e,n)=>{var r=n(2958),o=n(1499),i=n(2634);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},6432:(t,e,n)=>{var r=n(939),o=n(7361),i=n(9095),a=n(5403),u=n(9162),s=n(2634),c=n(327);t.exports=function(t,e){return a(t)&&u(e)?s(c(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,3)}}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,n)=>{var r=n(7786);t.exports=function(t){return function(e){return r(e,t)}}},9877:t=>{var e=Math.floor,n=Math.random;t.exports=function(t,r){return t+e(n()*(r-t+1))}},6560:(t,e,n)=>{var r=n(5703),o=n(8777),i=n(6557),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},4259:t=>{t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},2545:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},531:(t,e,n)=>{var r=n(2705),o=n(9932),i=n(1469),a=n(3448),u=r?r.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return s?s.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7561:(t,e,n)=>{var r=n(7990),o=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(o,""):t}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},5652:(t,e,n)=>{var r=n(8668),o=n(7443),i=n(1196),a=n(4757),u=n(3593),s=n(1814);t.exports=function(t,e,n){var c=-1,l=o,f=t.length,p=!0,d=[],h=d;if(n)p=!1,l=i;else if(f>=200){var v=e?null:u(t);if(v)return s(v);p=!1,l=a,h=new r}else h=e?[]:d;t:for(;++c<f;){var y=t[c],b=e?e(y):y;if(y=n||0!==y?y:0,p&&b==b){for(var g=h.length;g--;)if(h[g]===b)continue t;e&&h.push(b),d.push(y)}else l(h,b,n)||(h!==d&&h.push(b),d.push(y))}return d}},7406:(t,e,n)=>{var r=n(1811),o=n(928),i=n(292),a=n(327);t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[a(o(e))]}},4757:t=>{t.exports=function(t,e){return t.has(e)}},1811:(t,e,n)=>{var r=n(1469),o=n(5403),i=n(5514),a=n(9833);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},4318:(t,e,n)=>{var r=n(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},4626:(t,e,n)=>{t=n.nmd(t);var r=n(5639),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}},7157:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},419:(t,e,n)=>{var r=n(2705),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},7133:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},278:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},8363:(t,e,n)=>{var r=n(4865),o=n(9465);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var u=-1,s=e.length;++u<s;){var c=e[u],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?o(n,c,l):r(n,c,l)}return n}},8805:(t,e,n)=>{var r=n(8363),o=n(9551);t.exports=function(t,e){return r(t,o(t),e)}},1911:(t,e,n)=>{var r=n(8363),o=n(1442);t.exports=function(t,e){return r(t,o(t),e)}},4429:(t,e,n)=>{var r=n(5639)["__core-js_shared__"];t.exports=r},3593:(t,e,n)=>{var r=n(8525),o=n(308),i=n(1814),a=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=a},696:(t,e,n)=>{var r=n(8630);t.exports=function(t){return r(t)?void 0:t}},8777:(t,e,n)=>{var r=n(852),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},7114:(t,e,n)=>{var r=n(8668),o=n(2908),i=n(4757);t.exports=function(t,e,n,a,u,s){var c=1&n,l=t.length,f=e.length;if(l!=f&&!(c&&f>l))return!1;var p=s.get(t),d=s.get(e);if(p&&d)return p==e&&d==t;var h=-1,v=!0,y=2&n?new r:void 0;for(s.set(t,e),s.set(e,t);++h<l;){var b=t[h],g=e[h];if(a)var w=c?a(g,b,h,e,t,s):a(b,g,h,t,e,s);if(void 0!==w){if(w)continue;v=!1;break}if(y){if(!o(e,(function(t,e){if(!i(y,e)&&(b===t||u(b,t,n,a,s)))return y.push(e)}))){v=!1;break}}else if(b!==g&&!u(b,g,n,a,s)){v=!1;break}}return s.delete(t),s.delete(e),v}},8351:(t,e,n)=>{var r=n(2705),o=n(1149),i=n(7813),a=n(7114),u=n(8776),s=n(1814),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,f,p){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=u;case"[object Set]":var h=1&r;if(d||(d=s),t.size!=e.size&&!h)return!1;var v=p.get(t);if(v)return v==e;r|=2,p.set(t,e);var y=a(d(t),d(e),r,c,f,p);return p.delete(t),y;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},6096:(t,e,n)=>{var r=n(8234),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,a,u){var s=1&n,c=r(t),l=c.length;if(l!=r(e).length&&!s)return!1;for(var f=l;f--;){var p=c[f];if(!(s?p in e:o.call(e,p)))return!1}var d=u.get(t),h=u.get(e);if(d&&h)return d==e&&h==t;var v=!0;u.set(t,e),u.set(e,t);for(var y=s;++f<l;){var b=t[p=c[f]],g=e[p];if(i)var w=s?i(g,b,p,e,t,u):i(b,g,p,t,e,u);if(!(void 0===w?b===g||a(b,g,n,i,u):w)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var m=t.constructor,_=e.constructor;m==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _||(v=!1)}return u.delete(t),u.delete(e),v}},9021:(t,e,n)=>{var r=n(5564),o=n(5357),i=n(61);t.exports=function(t){return i(o(t,void 0,r),t+"")}},1957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8234:(t,e,n)=>{var r=n(8866),o=n(9551),i=n(3674);t.exports=function(t){return r(t,i,o)}},6904:(t,e,n)=>{var r=n(8866),o=n(1442),i=n(1704);t.exports=function(t){return r(t,i,o)}},5050:(t,e,n)=>{var r=n(7019);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},1499:(t,e,n)=>{var r=n(9162),o=n(3674);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},852:(t,e,n)=>{var r=n(8458),o=n(7801);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},5924:(t,e,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);t.exports=r},9607:(t,e,n)=>{var r=n(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[u]=n:delete t[u]),o}},9551:(t,e,n)=>{var r=n(4963),o=n(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},1442:(t,e,n)=>{var r=n(2488),o=n(5924),i=n(9551),a=n(479),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=u},4160:(t,e,n)=>{var r=n(8552),o=n(7071),i=n(3818),a=n(8525),u=n(577),s=n(4239),c=n(346),l="[object Map]",f="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",v=c(r),y=c(o),b=c(i),g=c(a),w=c(u),m=s;(r&&m(new r(new ArrayBuffer(1)))!=h||o&&m(new o)!=l||i&&m(i.resolve())!=f||a&&m(new a)!=p||u&&m(new u)!=d)&&(m=function(t){var e=s(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return h;case y:return l;case b:return f;case g:return p;case w:return d}return e}),t.exports=m},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,n)=>{var r=n(1811),o=n(5694),i=n(1469),a=n(5776),u=n(1780),s=n(327);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,f=!1;++c<l;){var p=s(e[c]);if(!(f=null!=t&&n(t,p)))break;t=t[p]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&u(l)&&a(p,l)&&(i(t)||o(t))}},1789:(t,e,n)=>{var r=n(4536);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},1327:(t,e,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},1866:(t,e,n)=>{var r=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},9148:(t,e,n)=>{var r=n(4318),o=n(7157),i=n(3147),a=n(419),u=n(7133);t.exports=function(t,e,n){var s=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,n);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return i(t);case"[object Set]":return new s;case"[object Symbol]":return a(t)}}},8517:(t,e,n)=>{var r=n(3118),o=n(5924),i=n(5726);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},7285:(t,e,n)=>{var r=n(2705),o=n(5694),i=n(1469),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},6612:(t,e,n)=>{var r=n(7813),o=n(8612),i=n(5776),a=n(3218);t.exports=function(t,e,n){if(!a(n))return!1;var u=typeof e;return!!("number"==u?o(n)&&i(e,n.length):"string"==u&&e in n)&&r(n[e],t)}},5403:(t,e,n)=>{var r=n(1469),o=n(3448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,n)=>{var r,o=n(4429),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9162:(t,e,n)=>{var r=n(3218);t.exports=function(t){return t==t&&!r(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var r=n(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var r=n(8470);t.exports=function(t){return r(this.__data__,t)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},4785:(t,e,n)=>{var r=n(1989),o=n(8407),i=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},1285:(t,e,n)=>{var r=n(5050);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).get(t)}},9916:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).has(t)}},5265:(t,e,n)=>{var r=n(5050);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},2634:t=>{t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},4523:(t,e,n)=>{var r=n(8306);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},4536:(t,e,n)=>{var r=n(852)(Object,"create");t.exports=r},6916:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},1167:(t,e,n)=>{t=n.nmd(t);var r=n(1957),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,u=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5357:(t,e,n)=>{var r=n(6874),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++a<u;)s[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(s),r(t,this,c)}}},292:(t,e,n)=>{var r=n(7786),o=n(4259);t.exports=function(t,e){return e.length<2?t:r(t,o(e,0,-1))}},5639:(t,e,n)=>{var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},61:(t,e,n)=>{var r=n(6560),o=n(1275)(r);t.exports=o},1275:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var o=e(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},7465:(t,e,n)=>{var r=n(8407);t.exports=function(){this.__data__=new r,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,n)=>{var r=n(8407),o=n(7071),i=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},2351:t=>{t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},5514:(t,e,n)=>{var r=n(4523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=a},327:(t,e,n)=>{var r=n(3448);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},5703:t=>{t.exports=function(t){return function(){return t}}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},5564:(t,e,n)=>{var r=n(1078);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},7361:(t,e,n)=>{var r=n(7786);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},9095:(t,e,n)=>{var r=n(13),o=n(222);t.exports=function(t,e){return null!=t&&o(t,e,r)}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,n)=>{var r=n(9454),o=n(7005),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),o=n(1780);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},4144:(t,e,n)=>{t=n.nmd(t);var r=n(5639),o=n(5062),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;t.exports=s},8446:(t,e,n)=>{var r=n(939);t.exports=function(t,e){return r(t,e)}},3560:(t,e,n)=>{var r=n(4239),o=n(3218);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,n)=>{var r=n(5588),o=n(1717),i=n(1167),a=i&&i.isMap,u=a?o(a):r;t.exports=u},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},8630:(t,e,n)=>{var r=n(4239),o=n(5924),i=n(7005),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,l=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==l}},2928:(t,e,n)=>{var r=n(9221),o=n(1717),i=n(1167),a=i&&i.isSet,u=a?o(a):r;t.exports=u},3448:(t,e,n)=>{var r=n(4239),o=n(7005);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},6719:(t,e,n)=>{var r=n(8749),o=n(1717),i=n(1167),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},3674:(t,e,n)=>{var r=n(4636),o=n(280),i=n(8612);t.exports=function(t){return i(t)?r(t):o(t)}},1704:(t,e,n)=>{var r=n(4636),o=n(313),i=n(8612);t.exports=function(t){return i(t)?r(t,!0):o(t)}},928:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},8306:(t,e,n)=>{var r=n(3369);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},308:t=>{t.exports=function(){}},7557:(t,e,n)=>{var r=n(9932),o=n(5990),i=n(7406),a=n(1811),u=n(8363),s=n(696),c=n(9021),l=n(6904),f=c((function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,(function(e){return e=a(e,t),c||(c=e.length>1),e})),u(t,l(t),n),c&&(n=o(n,7,s));for(var f=e.length;f--;)i(n,e[f]);return n}));t.exports=f},9601:(t,e,n)=>{var r=n(371),o=n(9152),i=n(5403),a=n(327);t.exports=function(t){return i(t)?r(a(t)):o(t)}},3608:(t,e,n)=>{var r=n(9877),o=n(6612),i=n(8601),a=parseFloat,u=Math.min,s=Math.random;t.exports=function(t,e,n){if(n&&"boolean"!=typeof n&&o(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=i(t),void 0===e?(e=t,t=0):e=i(e)),t>e){var c=t;t=e,e=c}if(n||t%1||e%1){var l=s();return u(t+l*(e-t+a("1e-"+((l+"").length-1))),e)}return r(t,e)}},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},8601:(t,e,n)=>{var r=n(4841);t.exports=function(t){return t?Infinity===(t=r(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},4841:(t,e,n)=>{var r=n(7561),o=n(3218),i=n(3448),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=u.test(t);return n||s.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},9833:(t,e,n)=>{var r=n(531);t.exports=function(t){return null==t?"":r(t)}},4908:(t,e,n)=>{var r=n(5652);t.exports=function(t){return t&&t.length?r(t):[]}},5578:(t,e,n)=>{var r=n(7206),o=n(5652);t.exports=function(t,e){return t&&t.length?o(t,r(e,2)):[]}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};return(()=>{"use strict";function t(t){var e=document.cookie.match(RegExp("(?:^|;\\s*)"+function(t){return t.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")}(t)+"=([^;]*)"));return e?e[1]:null}n.r(r),n.d(r,{ACTION:()=>oa,addAction:()=>ua,addInteraction:()=>fa,default:()=>ma,getActions:()=>sa,getAllActions:()=>ca,getContext:()=>ya,getGalactusUserProfile:()=>va,getLocalContext:()=>ba,getRealtimeContext:()=>ia,getUserProfile:()=>la,getVersionHash:()=>ha,isCrossdomainFinished:()=>pa,isInitialized:()=>da,registerClient:()=>aa});const e=function(){var e;return null!==(e=t("wikia_beacon_id"))&&void 0!==e?e:null};var o=n(7557),i=n.n(o),a={profileId:null,namespaces:{adTags:{},devices:{set:[]},locations:{set:[]},languages:{contentLanguages:[],acceptLanguages:[]}}},u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},c=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},l="silver_surfer_tracking_key_v2",f="silver_surfer_actions_v2",p="silver_surfer_interactions_v2";function d(){return s(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return[4,m()];case 1:return t=[e.sent()],[4,S()];case 2:return t=t.concat([e.sent()]),[4,g()];case 3:return[2,4*t.concat([e.sent()]).map((function(t){return JSON.stringify(t).length})).reduce((function(t,e){return t+e}),0)]}}))}))}var h=function(t){return"silver-surfer-galactus-fallback-user-profile-v2_"+t};function v(t){return s(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){return(e=localStorage.getItem(h(t)))&&(n=JSON.parse(e))&&4===n.apiVersion?[2,i()(n,"apiVersion")]:[2,null]}))}))}function y(t,e){return s(this,void 0,void 0,(function(){return c(this,(function(n){try{localStorage.setItem(h(t),JSON.stringify(u(u({},e),{apiVersion:4})))}catch(t){return[2,!1]}return[2,!0]}))}))}function b(t){return s(this,void 0,void 0,(function(){return c(this,(function(e){try{localStorage.setItem(p,JSON.stringify(t))}catch(t){return[2,!1]}return[2,!0]}))}))}function g(){return s(this,void 0,void 0,(function(){var t;return c(this,(function(e){return(t=localStorage.getItem(p))?[2,JSON.parse(t)]:[2,{}]}))}))}function w(t){return s(this,void 0,void 0,(function(){return c(this,(function(e){try{localStorage.setItem(l,JSON.stringify(t))}catch(t){return[2,!1]}return[2,!0]}))}))}function m(){return s(this,void 0,void 0,(function(){var t;return c(this,(function(e){return(t=localStorage.getItem(l))?[2,JSON.parse(t)]:[2,[]]}))}))}function _(t){return s(this,void 0,void 0,(function(){return c(this,(function(e){try{localStorage.setItem(f,JSON.stringify(t))}catch(t){return[2,!1]}return[2,!0]}))}))}function S(){return s(this,void 0,void 0,(function(){var t;return c(this,(function(e){return(t=localStorage.getItem(f))?[2,JSON.parse(t)]:[2,[]]}))}))}let O,x;const I=new WeakMap,E=new WeakMap,A=new WeakMap,j=new WeakMap,T=new WeakMap;let C={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return E.get(t);if("objectStoreNames"===e)return t.objectStoreNames||A.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return P(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function N(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(x||(x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(D(this),t),P(I.get(this))}:function(...t){return P(e.apply(D(this),t))}:function(t,...n){const r=e.call(D(this),t,...n);return A.set(r,t.sort?t.sort():[t]),P(r)}:(t instanceof IDBTransaction&&function(t){if(E.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{e(),r()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));E.set(t,e)}(t),n=t,(O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>n instanceof t))?new Proxy(t,C):t);var e,n}function P(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{e(P(t.result)),r()},i=()=>{n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)}));return e.then((e=>{e instanceof IDBCursor&&I.set(e,t)})).catch((()=>{})),T.set(e,t),e}(t);if(j.has(t))return j.get(t);const e=N(t);return e!==t&&(j.set(t,e),T.set(e,t)),e}const D=t=>T.get(t);function k(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(t,e),u=P(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(P(a.result),t.oldVersion,t.newVersion,P(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),u.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),u}const R=["get","getKey","getAll","getAllKeys","count"],L=["put","add","delete","clear"],M=new Map;function G(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(M.get(e))return M.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=L.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!R.includes(n))return;const i=async function(t,...e){const i=this.transaction(t,o?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(e.shift())),(await Promise.all([a[n](...e),o&&i.done]))[0]};return M.set(e,i),i}var B;B=C,C={...B,get:(t,e,n)=>G(t,e)||B.get(t,e,n),has:(t,e)=>!!G(t,e)||B.has(t,e)};var z,V=n(558),U="ss_debug",F=function(){return/^localhost/.test(location.hostname)||"127.0.0.1"===location.hostname},H=null!==(z="7dcf9e45\n".replace(/\n/g,""))&&void 0!==z?z:"local",W=function(t){return window.location.search.includes(t)},$=function(){return W(U+"=true")},q=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};function K(){}function Y(t){return"error"===t?console.debug:"debug"===t?$()||F()?console.debug:K:console.log}var Z=function(t,e,n,r){for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];var a=Y(t),u="%c"+e+" | "+r;o.length?a.apply(void 0,q([u,n],o)):a(u,n)};const J=function(t,e,n){return void 0===n&&(n=[]),function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return Z.apply(void 0,q([e,t,n.join(";"),r],o))}};function X(t){return["background-color: silver;","padding: 2px 4px","border-radius: 2px","color: "+t]}const Q={info:J("SilverSurfer","info",X("#000")),debug:J("SilverSurfer","debug",X("#330")),error:J("SilverSurfer","error",X("#300"))};var tt=function(){return(tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},et=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},nt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},rt="page-view-table",ot="actions-table",it="interactions-table",at="current",ut="galactus-fallback-user-profile-table",st=!1;function ct(){return et(this,void 0,void 0,(function(){var t;return nt(this,(function(e){switch(e.label){case 0:if(st)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,k("silver-surfer",4,{upgrade:function(t,e,n,r){t.objectStoreNames.contains(rt)||t.createObjectStore(rt),t.objectStoreNames.contains(ut)||t.createObjectStore(ut),t.objectStoreNames.contains(ot)||t.createObjectStore(ot,{autoIncrement:!0}),t.objectStoreNames.contains(it)||t.createObjectStore(it)},blocked:function(){},blocking:function(){},terminated:function(){}})];case 2:return[2,e.sent()];case 3:return t=e.sent(),Q.error("Cannot access indexedDB:",t),st=!0,[3,4];case 4:return[2]}}))}))}var lt=function(t){return"user-profile-"+t};function ft(t){return et(this,void 0,void 0,(function(){var e,n;return nt(this,(function(r){switch(r.label){case 0:return[4,ct()];case 1:return[4,null==(e=r.sent())?void 0:e.get(ut,lt(t))];case 2:return(n=r.sent())&&4===n.apiVersion?[2,i()(n,"apiVersion")]:[2,null]}}))}))}function pt(t,e){return et(this,void 0,void 0,(function(){var n,r,o;return nt(this,(function(i){switch(i.label){case 0:return[4,ct()];case 1:return n=i.sent(),r=lt(t),o=tt(tt({},e),{apiVersion:4}),[4,null==n?void 0:n.put(ut,o,r)];case 2:return[2,i.sent()===r]}}))}))}function dt(){var t;return et(this,void 0,void 0,(function(){var e,n,r;return nt(this,(function(o){switch(o.label){case 0:return[4,ct()];case 1:return[4,null==(e=o.sent())?void 0:e.getAllKeys(rt)];case 2:return n=null!==(t=o.sent())&&void 0!==t?t:[],[4,null==e?void 0:e.getAll(rt)];case 3:return r=o.sent(),[2,n.map((function(t,e){return tt({id:t},r[e])}))]}}))}))}function ht(t){return et(this,void 0,void 0,(function(){var e,n,r,o=this;return nt(this,(function(i){switch(i.label){case 0:return[4,ct()];case 1:return e=i.sent(),(null==(n=null==e?void 0:e.transaction(rt,"readwrite",{durability:"strict"}))?void 0:n.store)?[4,n.store.clear()]:[2,!1];case 2:return i.sent(),r=!0,t.forEach((function(t){return et(o,void 0,void 0,(function(){var e,o,i;return nt(this,(function(a){switch(a.label){case 0:return e=t.id,o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["id"]),[4,n.store.put(o,e)];case 1:return i=a.sent(),r&&(r=i===e),[2]}}))}))})),[4,n.done];case 3:return i.sent(),[2,r]}}))}))}function vt(t){return et(this,void 0,void 0,(function(){var e;return nt(this,(function(n){switch(n.label){case 0:return[4,ct()];case 1:return[4,null==(e=n.sent())?void 0:e.put(it,t,at)];case 2:return[2,n.sent()===at]}}))}))}function yt(){var t;return et(this,void 0,void 0,(function(){var e;return nt(this,(function(n){switch(n.label){case 0:return[4,ct()];case 1:return[4,null==(e=n.sent())?void 0:e.get(it,at)];case 2:return[2,null!==(t=n.sent())&&void 0!==t?t:{}]}}))}))}function bt(){return et(this,void 0,void 0,(function(){var t;return nt(this,(function(e){switch(e.label){case 0:return[4,ct()];case 1:return[4,null==(t=e.sent())?void 0:t.getAll(ot)];case 2:return[2,e.sent()]}}))}))}function gt(t){return et(this,void 0,void 0,(function(){var e,n,r,o=this;return nt(this,(function(i){switch(i.label){case 0:return[4,ct()];case 1:return e=i.sent(),(null==(n=null==e?void 0:e.transaction(ot,"readwrite",{durability:"strict"}))?void 0:n.store)?[4,n.store.clear()]:[2,!1];case 2:return i.sent(),r=!0,t.forEach((function(t){return et(o,void 0,void 0,(function(){var e;return nt(this,(function(o){switch(o.label){case 0:return[4,n.store.put(t)];case 1:return e=o.sent(),r&&(r=!!e),[2]}}))}))})),[4,n.done];case 3:return i.sent(),[2,r]}}))}))}function wt(){return et(this,void 0,void 0,(function(){var t,e,n,r;return nt(this,(function(o){switch(o.label){case 0:return[4,ct()];case 1:return t=o.sent(),e=0,[4,null==t?void 0:t.transaction(rt).store.openCursor()];case 2:n=o.sent(),o.label=3;case 3:return n?(e+=JSON.stringify(n.value).length,[4,n.continue()]):[3,5];case 4:return n=o.sent(),[3,3];case 5:return[4,null==t?void 0:t.transaction(ot).store.openCursor()];case 6:r=o.sent(),o.label=7;case 7:return r?(e+=JSON.stringify(r.value).length,[4,r.continue()]):[3,9];case 8:return r=o.sent(),[3,7];case 9:return[2,4*e]}}))}))}var mt,_t=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},St=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function Ot(t){if(void 0===t&&(t=mt.BOTH),t===mt.INDEXEDDB)return!1;try{return!!(null===window||void 0===window?void 0:window.localStorage)}catch(t){return!1}}function xt(t){if(void 0===t&&(t=mt.BOTH),t===mt.LOCALSTORAGE)return!1;try{return!!(null===window||void 0===window?void 0:window.indexedDB)}catch(t){return!1}}function It(t){return _t(this,void 0,void 0,(function(){return St(this,(function(e){switch(e.label){case 0:return xt()?[4,ft(t)]:[3,2];case 1:return[2,e.sent()];case 2:return Ot()?[4,v(t)]:[3,4];case 3:return[2,e.sent()];case 4:return[2,null]}}))}))}function Et(t){return void 0===t&&(t=mt.BOTH),_t(this,void 0,void 0,(function(){return St(this,(function(e){switch(e.label){case 0:return xt(t)?[4,dt()]:[3,2];case 1:return[2,e.sent()];case 2:return Ot(t)?[4,m()]:[3,4];case 3:return[2,e.sent()];case 4:return[2,[]]}}))}))}function At(t){return void 0===t&&(t=mt.BOTH),_t(this,void 0,void 0,(function(){return St(this,(function(e){switch(e.label){case 0:return xt(t)?[4,bt()]:[3,2];case 1:return[2,e.sent()];case 2:return Ot(t)?[4,S()]:[3,4];case 3:return[2,e.sent()];case 4:return[2,[]]}}))}))}function jt(t){return void 0===t&&(t=mt.BOTH),_t(this,void 0,void 0,(function(){return St(this,(function(e){switch(e.label){case 0:return xt(t)?[4,yt()]:[3,2];case 1:return[2,e.sent()];case 2:return Ot(t)?[4,g()]:[3,4];case 3:return[2,e.sent()];case 4:return[2,{}]}}))}))}function Tt(t){return void 0===t&&(t=mt.BOTH),_t(this,void 0,void 0,(function(){var e,n,r,o;return St(this,(function(i){switch(i.label){case 0:if(e=-1,n=-1,!xt(t))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,d()];case 2:return e=i.sent(),[3,4];case 3:return r=i.sent(),Q.debug("Error while getting localStorage size",r),[3,4];case 4:if(!Ot(t))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,wt()];case 6:return n=i.sent(),[3,8];case 7:return o=i.sent(),Q.debug("Error while getting indexedDB size",o),[3,8];case 8:return[2,{localStorageSize:e,indexedDBSize:n}]}}))}))}!function(t){t.BOTH="both",t.INDEXEDDB="indexeddb",t.LOCALSTORAGE="localstorage"}(mt||(mt={}));var Ct,Nt=function(t,e){return function(t,e,n,r){void 0===r&&(r={}),console.error("logErrorEvent",n,r)}(0,0,t,function(t){return{ok:t.ok,redirected:t.redirected,status:t.status,statusText:t.statusText,type:t.type,url:t.url}}(e))},Pt=(Ct=Nt,function(t){return fetch((0,V.sH)()+t,{mode:"cors",credentials:"include"}).then((function(e){return e.ok||401===e.status||404===e.status||("function"==typeof Ct?Ct(t,e):console.error("callFandomServiceFactory Error",{url:(0,V.sH)()+t,response:e})),e}))}),Dt=(function(t){}(Nt),n(9996)),kt=n.n(Dt);function Rt(t){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e,n,r,o;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,Pt("galactus-user-profile/profiles/"+t)];case 1:return 200!==(e=i.sent()).status?[3,3]:[4,e.json()];case 2:return n=i.sent(),r=function(t){return kt()(a,t)}(n),Q.debug("Galactus API response",r),[2,r];case 3:return[3,5];case 4:return o=i.sent(),Q.error("Failed to fetch profile",o),[3,5];case 5:return[2,null]}}))}))}function Lt(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Mt(t){return!!t&&!!t[Oe]}function Gt(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===xe}(t)||Array.isArray(t)||!!t[Se]||!!t.constructor[Se]||Ht(t)||Wt(t))}function Bt(t,e,n){void 0===n&&(n=!1),0===zt(t)?(n?Object.keys:Ie)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function zt(t){var e=t[Oe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Ht(t)?2:Wt(t)?3:0}function Vt(t,e){return 2===zt(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Ut(t,e,n){var r=zt(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function Ft(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function Ht(t){return ge&&t instanceof Map}function Wt(t){return we&&t instanceof Set}function $t(t){return t.o||t.t}function qt(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Ee(t);delete e[Oe];for(var n=Ie(e),r=0;r<n.length;r++){var o=n[r],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function Kt(t,e){return void 0===e&&(e=!1),Zt(t)||Mt(t)||!Gt(t)||(zt(t)>1&&(t.set=t.add=t.clear=t.delete=Yt),Object.freeze(t),e&&Bt(t,(function(t,e){return Kt(e,!0)}),!0)),t}function Yt(){Lt(2)}function Zt(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function Jt(t){var e=Ae[t];return e||Lt(18,t),e}function Xt(){return ye}function Qt(t,e){e&&(Jt("Patches"),t.u=[],t.s=[],t.v=e)}function te(t){ee(t),t.p.forEach(re),t.p=null}function ee(t){t===ye&&(ye=t.l)}function ne(t){return ye={p:[],l:ye,h:t,m:!0,_:0}}function re(t){var e=t[Oe];0===e.i||1===e.i?e.j():e.O=!0}function oe(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||Jt("ES5").S(e,t,r),r?(n[Oe].P&&(te(e),Lt(4)),Gt(t)&&(t=ie(e,t),e.l||ue(e,t)),e.u&&Jt("Patches").M(n[Oe],t,e.u,e.s)):t=ie(e,n,[]),te(e),e.u&&e.v(e.u,e.s),t!==_e?t:void 0}function ie(t,e,n){if(Zt(e))return e;var r=e[Oe];if(!r)return Bt(e,(function(o,i){return ae(t,r,e,o,i,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return ue(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=qt(r.k):r.o;Bt(3===r.i?new Set(o):o,(function(e,i){return ae(t,r,o,e,i,n)})),ue(t,o,!1),n&&t.u&&Jt("Patches").R(r,n,t.u,t.s)}return r.o}function ae(t,e,n,r,o,i){if(Mt(o)){var a=ie(t,o,i&&e&&3!==e.i&&!Vt(e.D,r)?i.concat(r):void 0);if(Ut(n,r,a),!Mt(a))return;t.m=!1}if(Gt(o)&&!Zt(o)){if(!t.h.F&&t._<1)return;ie(t,o),e&&e.A.l||ue(t,o)}}function ue(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&Kt(e,n)}function se(t,e){var n=t[Oe];return(n?$t(n):t)[e]}function ce(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function le(t){t.P||(t.P=!0,t.l&&le(t.l))}function fe(t){t.o||(t.o=qt(t.t))}function pe(t,e,n){var r=Ht(e)?Jt("MapSet").N(e,n):Wt(e)?Jt("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:Xt(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},o=r,i=je;n&&(o=[r],i=Te);var a=Proxy.revocable(o,i),u=a.revoke,s=a.proxy;return r.k=s,r.j=u,s}(e,n):Jt("ES5").J(e,n);return(n?n.A:Xt()).p.push(r),r}function de(t){return Mt(t)||Lt(22,t),function t(e){if(!Gt(e))return e;var n,r=e[Oe],o=zt(e);if(r){if(!r.P&&(r.i<4||!Jt("ES5").K(r)))return r.t;r.I=!0,n=he(e,o),r.I=!1}else n=he(e,o);return Bt(n,(function(e,o){r&&function(t,e){return 2===zt(t)?t.get(e):t[e]}(r.t,e)===o||Ut(n,e,t(o))})),3===o?new Set(n):n}(t)}function he(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return qt(t)}var ve,ye,be="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ge="undefined"!=typeof Map,we="undefined"!=typeof Set,me="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,_e=be?Symbol.for("immer-nothing"):((ve={})["immer-nothing"]=!0,ve),Se=be?Symbol.for("immer-draftable"):"__$immer_draftable",Oe=be?Symbol.for("immer-state"):"__$immer_state",xe=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Ie="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Ee=Object.getOwnPropertyDescriptors||function(t){var e={};return Ie(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},Ae={},je={get:function(t,e){if(e===Oe)return t;var n=$t(t);if(!Vt(n,e))return function(t,e,n){var r,o=ce(e,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!Gt(r)?r:r===se(t.t,e)?(fe(t),t.o[e]=pe(t.A.h,r,t)):r},has:function(t,e){return e in $t(t)},ownKeys:function(t){return Reflect.ownKeys($t(t))},set:function(t,e,n){var r=ce($t(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=se($t(t),e),i=null==o?void 0:o[Oe];if(i&&i.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(Ft(n,o)&&(void 0!==n||Vt(t.t,e)))return!0;fe(t),le(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==se(t.t,e)||e in t.t?(t.D[e]=!1,fe(t),le(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=$t(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){Lt(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Lt(12)}},Te={};Bt(je,(function(t,e){Te[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),Te.deleteProperty=function(t,e){return je.deleteProperty.call(this,t[0],e)},Te.set=function(t,e,n){return je.set.call(this,t[0],e,n,t[0])};var Ce=new(function(){function t(t){var e=this;this.g=me,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var o=n;n=t;var i=e;return function(t){var e=this;void 0===t&&(t=o);for(var r=arguments.length,a=Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return i.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(a))}))}}var a;if("function"!=typeof n&&Lt(6),void 0!==r&&"function"!=typeof r&&Lt(7),Gt(t)){var u=ne(e),s=pe(e,t,void 0),c=!0;try{a=n(s),c=!1}finally{c?te(u):ee(u)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return Qt(u,r),oe(t,u)}),(function(t){throw te(u),t})):(Qt(u,r),oe(a,u))}if(!t||"object"!=typeof t){if((a=n(t))===_e)return;return void 0===a&&(a=t),e.F&&Kt(a,!0),a}Lt(21,t)},this.produceWithPatches=function(t,n){return"function"==typeof t?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(o))}))}:[e.produce(t,n,(function(t,e){r=t,o=e})),r,o];var r,o},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){Gt(t)||Lt(8),Mt(t)&&(t=de(t));var e=ne(this),n=pe(this,t,void 0);return n[Oe].C=!0,ee(e),n},e.finishDraft=function(t,e){var n=(t&&t[Oe]).A;return Qt(n,e),oe(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!me&&Lt(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}var o=Jt("Patches").$;return Mt(t)?o(t,e):this.produce(t,(function(t){return o(t,e.slice(n+1))}))},t}()),Ne=Ce.produce;Ce.produceWithPatches.bind(Ce),Ce.setAutoFreeze.bind(Ce),Ce.setUseProxies.bind(Ce),Ce.applyPatches.bind(Ce),Ce.createDraft.bind(Ce),Ce.finishDraft.bind(Ce);const Pe=Ne;function De(t,e){return t===e}function ke(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}function Re(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}var Le=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=0,a=r.pop(),u=Re(r),s=t.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(n)),c=t((function(){for(var t=[],e=u.length,n=0;n<e;n++)t.push(u[n].apply(null,arguments));return s.apply(null,t)}));return c.resultFunc=a,c.dependencies=u,c.recomputations=function(){return i},c.resetRecomputations=function(){return i=0},c}}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De,n=null,r=null;return function(){return ke(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}}));function Me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ge(Object(n),!0).forEach((function(e){Me(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ze(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Ve="function"==typeof Symbol&&Symbol.observable||"@@observable",Ue=function(){return Math.random().toString(36).substring(7).split("").join(".")},Fe={INIT:"@@redux/INIT"+Ue(),REPLACE:"@@redux/REPLACE"+Ue(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ue()}};function He(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function We(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(ze(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(ze(1));return n(We)(t,e)}if("function"!=typeof t)throw new Error(ze(2));var o=t,i=e,a=[],u=a,s=!1;function c(){u===a&&(u=a.slice())}function l(){if(s)throw new Error(ze(3));return i}function f(t){if("function"!=typeof t)throw new Error(ze(4));if(s)throw new Error(ze(5));var e=!0;return c(),u.push(t),function(){if(e){if(s)throw new Error(ze(6));e=!1,c();var n=u.indexOf(t);u.splice(n,1),a=null}}}function p(t){if(!He(t))throw new Error(ze(7));if(void 0===t.type)throw new Error(ze(8));if(s)throw new Error(ze(9));try{s=!0,i=o(i,t)}finally{s=!1}for(var e=a=u,n=0;n<e.length;n++)(0,e[n])();return t}function d(t){if("function"!=typeof t)throw new Error(ze(10));o=t,p({type:Fe.REPLACE})}function h(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(ze(11));function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[Ve]=function(){return this},t}return p({type:Fe.INIT}),(r={dispatch:p,subscribe:f,getState:l,replaceReducer:d})[Ve]=h,r}function $e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function qe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(ze(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=e.map((function(t){return t(o)}));return r=$e.apply(void 0,i)(n.dispatch),Be(Be({},n),{},{dispatch:r})}}}function Ke(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}var Ye=Ke();Ye.withExtraArgument=Ke;const Ze=Ye;var Je=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xe=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},Qe=Object.defineProperty,tn=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),en=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable,rn=function(t,e,n){return e in t?Qe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},on=function(t,e){for(var n in e||(e={}))en.call(e,n)&&rn(t,n,e[n]);if(tn)for(var r=0,o=tn(e);r<o.length;r++)n=o[r],nn.call(e,n)&&rn(t,n,e[n]);return t},an="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?$e:$e.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var un,sn=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,n)||this;return Object.setPrototypeOf(o,e.prototype),o}return Je(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,Xe([void 0],t[0].concat(this)))):new(e.bind.apply(e,Xe([void 0],t.concat(this))))},e}(Array);function cn(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,r=(t.immutableCheck,t.serializableCheck,new sn);return n&&(function(t){return"boolean"==typeof t}(n)?r.push(Ze):r.push(Ze.withExtraArgument(n.extraArgument))),r}function ln(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var o=e.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return on(on({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function fn(t){var e,n={},r=[],o={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,o},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),o},addDefaultCase:function(t){return e=t,o}};return t(o),[n,r,e]}function pn(t){var e=t.name,n=t.initialState;if(!e)throw new Error("`name` is a required option for createSlice");var r=t.reducers||{},o="function"==typeof t.extraReducers?fn(t.extraReducers):[t.extraReducers],i=o[0],a=void 0===i?{}:i,u=o[1],s=void 0===u?[]:u,c=o[2],l=void 0===c?void 0:c,f=Object.keys(r),p={},d={},h={};f.forEach((function(t){var n,o,i=r[t],a=e+"/"+t;"reducer"in i?(n=i.reducer,o=i.prepare):n=i,p[t]=n,d[a]=n,h[t]=o?ln(a,o):ln(a)}));var v=function(t,e,n,r){void 0===n&&(n=[]);var o="function"==typeof e?fn(e):[e,n,r],i=o[0],a=o[1],u=o[2],s=Pe(t,(function(){}));return function(t,e){void 0===t&&(t=s);var n=Xe([i[e.type]],a.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[u]),n.reduce((function(t,n){if(n){var r;if(Mt(t))return void 0===(r=n(t,e))?t:r;if(Gt(t))return Pe(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}}(n,on(on({},a),d),s,l);return{name:e,reducer:v,actions:h,caseReducers:p}}!function(){function t(t,e){var n=o[t];return n?n.enumerable=e:o[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[Oe];return je.get(e,t)},set:function(e){var n=this[Oe];je.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var o=t[e][Oe];if(!o.P)switch(o.i){case 5:r(o)&&le(o);break;case 4:n(o)&&le(o)}}}function n(t){for(var e=t.t,n=t.k,r=Ie(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==Oe){var a=e[i];if(void 0===a&&!Vt(e,i))return!0;var u=n[i],s=u&&u[Oe];if(s?s.t!==a:!Ft(u,a))return!0}}var c=!!e[Oe];return r.length!==Ie(e).length+(c?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!n||n.get)}var o={};!function(t,e){Ae[t]||(Ae[t]=e)}("ES5",{J:function(e,n){var r=Array.isArray(e),o=function(e,n){if(e){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,t(o,!0));return r}var i=Ee(n);delete i[Oe];for(var a=Ie(i),u=0;u<a.length;u++){var s=a[u];i[s]=t(s,e||!!i[s].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,e),i={i:r?5:4,A:n?n.A:Xt(),P:!1,I:!1,D:{},l:n,t:e,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,Oe,{value:i,writable:!0}),o},S:function(t,n,o){o?Mt(n)&&n[Oe].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[Oe];if(n){var o=n.t,i=n.k,a=n.D,u=n.i;if(4===u)Bt(i,(function(e){e!==Oe&&(void 0!==o[e]||Vt(o,e)?a[e]||t(i[e]):(a[e]=!0,le(n)))})),Bt(o,(function(t){void 0!==i[t]||Vt(i,t)||(a[t]=!1,le(n))}));else if(5===u){if(r(n)&&(le(n),a.length=!0),i.length<o.length)for(var s=i.length;s<o.length;s++)a[s]=!1;else for(var c=o.length;c<i.length;c++)a[c]=!0;for(var l=Math.min(i.length,o.length),f=0;f<l;f++)void 0===a[f]&&t(i[f])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}();var dn=pn({name:"AppSlice",initialState:{state:"new",clients:[]},reducers:{starting:function(t){"new"===t.state&&(t.state="starting")},ready:function(t){"starting"===t.state&&(t.state="ready")},addClient:function(t,e){t.clients.push(e.payload)}}}),hn=dn.actions,vn=((un=dn.actions).starting,un.ready,un.addClient);const yn=dn.reducer;var bn=n(7361),gn=n.n(bn),wn=n(3608),mn=n.n(wn),_n=n(5578),Sn=n.n(_n);function On(){return{p:null,pId:null,time:Date.now()}}function xn(t){return{product:t.p,productVariant:t.pVar,productCategory:t.pCat,productId:t.pId,page:t.pg,pageId:t.pgId,pageLanguage:t.pgLang,adTags:t.adTags,time:t.time}}function In(){return"object"!=typeof(null===window||void 0===window?void 0:window._plc)?On():window._plc}var En,An,jn,Tn;function Cn(t){return!(t<1)||mn()(0,100)<=100*t}const Nn=pn({name:"ConfigSlice",initialState:(En=In(),jn={sendDebugLogRate:.02,sendGalactusRequestRate:1,sendTrackingRate:(null==(An={mw:["2350603","174","38969","4396","159","130814","2180","105","2237"],dis:[]}[En.p])?void 0:An.includes(En.pId))?1:0},Tn={sendDebugLogRate:gn()(window,"_ss.sendDebugLogRate",jn.sendDebugLogRate),sendGalactusRequestRate:gn()(window,"_ss.sendGalactusRequestRate",jn.sendGalactusRequestRate),sendTrackingRate:gn()(window,"_ss.sendDebugLogRate",jn.sendTrackingRate)},{sendDebugLog:Cn(Tn.sendDebugLogRate)||$(),sendGalactusRequest:Cn(Tn.sendGalactusRequestRate)||$()||F(),sendTracking:Cn(Tn.sendDebugLogRate),disableCrossdomain:W("ss_no_crossdomain=true")}),reducers:{}}).reducer;var Pn,Dn=pn({name:"ContextSlice",initialState:{user:null,page:null,floorAdhesionSlot:"unknown",uapSlot:"unknown"},reducers:{updateUser:function(t,e){t.user=e.payload},updatePage:function(t,e){t.page=e.payload},floorAdhesionSlotUpdate:function(t,e){t.floorAdhesionSlot=e.payload},uapSlotUpdate:function(t,e){t.uapSlot=e.payload}}}),kn=(Dn.actions,(Pn=Dn.actions).updateUser),Rn=Pn.updatePage,Ln=Pn.floorAdhesionSlotUpdate,Mn=Pn.uapSlotUpdate;const Gn=Dn.reducer;var Bn;function zn(t){return{id:t.productId+"_"+t.pageId+"_"+t.time,context:(e=t,{p:e.product,pVar:e.productVariant,pCat:e.productCategory,pId:e.productId,pg:e.page,pgId:e.pageId,pgLang:e.pageLanguage,adTags:e.adTags,time:e.time}),time:t.time,version:"2"};var e}function Vn(t){if("1"===(null==t?void 0:t.version)){var e=t;return xn({p:"mw",pCat:e.vertical,pId:e.communityId,pgId:e.pageId,time:e.time})}return"2"!==(null==t?void 0:t.version)?xn(On()):xn(t.context)}var Un=pn({name:"BrowserStorageSlice",initialState:{session:{interactions:{},actions:[],pages:[]},history:{interactions:{},actions:[],pages:[]},serviceCache:{galactusUserProfile:{}},local:{status:"initializing",size:{localStorageSize:-1,indexedDBSize:-1}},crossdomain:{status:"initializing",statusErrorMessage:null,size:{localStorageSize:-1,indexedDBSize:-1},pagesFinished:!1,actionsFinished:!1,interactionsFinished:!1}},reducers:{cacheGalactusUserProfile:function(t,e){t.serviceCache.galactusUserProfile[e.payload.beaconId]=e.payload.profile},crossdomainStatus:function(t,e){var n,r=e.payload.status;"ready"!=t.crossdomain.status&&(t.crossdomain.status=r,t.crossdomain.statusErrorMessage="off"===r?null===(n=e.payload)||void 0===n?void 0:n.statusErrorMessage:"")},sessionPageViewSaved:function(t,e){t.session.pages.push(Vn(e.payload))},sessionActionSaved:function(t,e){t.session.actions.push(e.payload)},sessionAddInteraction:function(t,e){var n,r=t.session.interactions,o=null!==(n=r[e.payload])&&void 0!==n?n:0;r[e.payload]=o+1,t.session.interactions=r},updateCrossdomainInteractions:function(t,e){t.history.interactions=e.payload,t.crossdomain.interactionsFinished=!0,t.crossdomain.status="ready"},updateCrossdomainActions:function(t,e){t.history.actions=e.payload,t.crossdomain.actionsFinished=!0,t.crossdomain.status="ready"},updateCrossdomainPages:function(t,e){t.history.pages=e.payload.map(Vn),t.crossdomain.pagesFinished=!0,t.crossdomain.status="ready"},updateCrossdomainSize:function(t,e){t.crossdomain.size=e.payload,t.crossdomain.status="ready"},updateLocalHistory:function(t,e){var n,r,o,i;t.history.interactions=e.payload.interactions,t.history.pages=null!==(r=null===(n=e.payload.pages)||void 0===n?void 0:n.map(Vn))&&void 0!==r?r:[],t.history.actions=null!==(i=null===(o=e.payload)||void 0===o?void 0:o.actions)&&void 0!==i?i:[],t.local.status="ready"},updateLocalStorageSize:function(t,e){t.local.size=e.payload}}}),Fn=(Un.actions,(Bn=Un.actions).cacheGalactusUserProfile),Hn=Bn.crossdomainStatus,Wn=Bn.sessionPageViewSaved,$n=Bn.sessionActionSaved,qn=Bn.sessionAddInteraction,Kn=Bn.updateCrossdomainSize,Yn=Bn.updateCrossdomainPages,Zn=Bn.updateCrossdomainActions,Jn=Bn.updateCrossdomainInteractions,Xn=Bn.updateLocalHistory,Qn=Bn.updateLocalStorageSize;const tr=Un.reducer;var er;const nr=(er={event:"silversurfer"},function(t){return function(t){return t.event?(window.dataLayer=window.dataLayer||[],t.category||(t.category=t.event),window.dataLayer.push(t)):(console.error("[Tracking] missing 'event' field",t),null)}(kt()(er,t))});var rr,or;!function(t){t.BOOTSTRAP="bootstrap",t.INITIALIZE_CROSSDOMAIN="initialize-crossdomain",t.INITIALIZE_CONTEXT="initialize-context",t.INITIALIZE_LOCAL_HISTORY="initialize-local-history",t.INITIALIZE_CROSSDOMAIN_HISTORY="initialize-crossdomain-history",t.LOCAL_SAVING_PAGEVIEW="local-saving-pageview",t.LOCAL_SAVING_ACTION="local-saving-action",t.LOCAL_SAVING_INTERACTION="local-saving-interaction",t.CROSSDOMAIN_SAVING_PAGEVIEW="crossdomain-saving-pageview",t.CROSSDOMAIN_SAVING_ACTION="crossdomain-saving-action",t.CROSSDOMAIN_SAVING_INTERACTION="crossdomain-saving-interaction",t.LOCAL_READING_STORAGE_SIZE="local-reading-storage-size",t.LOCAL_READING_PAGEVIEW="local-reading-pageview",t.LOCAL_READING_ACTION="local-reading-action",t.LOCAL_READING_INTERACTION="local-reading-interaction",t.CROSSDOMAIN_READING_STORAGE_SIZE="crossdomain-reading-storage-size",t.CROSSDOMAIN_READING_PAGEVIEW="crossdomain-reading-pageview",t.CROSSDOMAIN_READING_ACTION="crossdomain-reading-action",t.CROSSDOMAIN_READING_INTERACTION="crossdomain-reading-interaction"}(or||(or={}));var ir=pn({name:"MetricsSlice",initialState:{send:!1,pvUID:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),timers:{}},reducers:{sendMetrics:function(t){t.send=!0},start:function(t,e){var n,r=e.payload;(null===(n=t.timers)||void 0===n?void 0:n[r])||(t.timers[r]={time:Date.now(),isRunning:!0})},stop:function(t,e){var n,r,o=e.payload;if((null===(r=t.timers)||void 0===r?void 0:r[o])&&t.timers[o].isRunning){var i=Date.now()-t.timers[o].time;t.timers[o]={time:i,isRunning:!1},Q.debug("Timer",((n={})[o]=i,n)),t.send&&nr({event:"silversurfer-timer",category:"silversurfer",action:"timer",label:o,value:i,pvUID:t.pvUID})}}}}),ar=ir.actions,ur=((rr=ir.actions).start,rr.stop,rr.sendMetrics);const sr=function(t){var e,n=function(t){return cn(t)},r=t||{},o=r.reducer,i=void 0===o?void 0:o,a=r.middleware,u=void 0===a?n():a,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,p=r.enhancers,d=void 0===p?void 0:p;if("function"==typeof i)e=i;else{if(!function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];"function"==typeof t[o]&&(n[o]=t[o])}var i,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:Fe.INIT}))throw new Error(ze(12));if(void 0===n(void 0,{type:Fe.PROBE_UNKNOWN_ACTION()}))throw new Error(ze(13))}))}(n)}catch(t){i=t}return function(t,e){if(void 0===t&&(t={}),i)throw i;for(var r=!1,o={},u=0;u<a.length;u++){var s=a[u],c=n[s],l=t[s],f=c(l,e);if(void 0===f)throw e&&e.type,new Error(ze(14));o[s]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(t).length)?o:t}}(i)}var h=u;"function"==typeof h&&(h=h(n));var v=qe.apply(void 0,h),y=$e;c&&(y=an(on({trace:!1},"object"==typeof c&&c)));var b=[v];return Array.isArray(d)?b=Xe([v],d):"function"==typeof d&&(b=d(b)),We(e,f,y.apply(void 0,b))}({reducer:{App:yn,Config:Nn,Metrics:ir.reducer,Context:Gn,BrowserStorage:tr},middleware:cn(),devTools:{name:"SilverSurfer",trace:$()}});var cr=n(4908),lr=n.n(cr);function fr(t){return 0===Object.keys(t||{}).length}var pr=function(){return(pr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function dr(t){var e,n=pr(pr({},t),{time:Date.now(),ssVersion:H}),r=(void 0===e&&(e=0),(function(t,e){void 0===e&&(e=0);for(var n,r,o=function(){for(var t=0,e=new Array(256),n=0;256!=n;++n)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=n)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[n]=t;return"undefined"!=typeof Int32Array?new Int32Array(e):e}(),i=-1^e,a=0,u=t.length;a<u;)(n=t.charCodeAt(a++))<128?i=i>>>8^o[255&(i^n)]:n<2048?i=(i=i>>>8^o[255&(i^(192|n>>6&31))])>>>8^o[255&(i^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),r=1023&t.charCodeAt(a++),i=(i=(i=(i=i>>>8^o[255&(i^(240|n>>8&7))])>>>8^o[255&(i^(128|n>>2&63))])>>>8^o[255&(i^(128|r>>6&15|(3&n)<<4))])>>>8^o[255&(i^(128|63&r))]):i=(i=(i=i>>>8^o[255&(i^(224|n>>12&15))])>>>8^o[255&(i^(128|n>>6&63))])>>>8^o[255&(i^(128|63&n))];return-1^i}(JSON.stringify(n),e)>>>0).toString(16));return pr(pr({},n),{token:r})}function hr(t,e){return(null==t?void 0:t.name)===(null==e?void 0:e.name)}function vr(t,e,n){var r=t.filter((function(t){return hr(t.client,e)})).map((function(t){return t.action}));return"string"==typeof n&&n.length>0&&(r=r.filter((function(t){return t.type===n}))),r}var yr=function(t,e){var n;return null===(n=t.Metrics.timers)||void 0===n?void 0:n[e]},br=function(t){return t.App.clients},gr=function(t){return t.Config.sendDebugLog},wr=function(t){return t.Context.user},mr=function(t){return t.Context.page},_r=function(t){return{uap:t.Context.uapSlot,floorAdhesion:t.Context.floorAdhesionSlot}},Sr=function(t){return t.BrowserStorage.crossdomain.status},Or=function(t){return t.BrowserStorage.crossdomain.statusErrorMessage},xr=Le(Sr,(function(t){return"initializing"!==t})),Ir=Le(Sr,(function(t){return"ready"===t})),Er=Le((function(t){return t.BrowserStorage.local.status}),(function(t){return"ready"===t})),Ar=Le(Ir,Er,(function(t,e){return t||e})),jr=Le(mr,(function(t){return t.BrowserStorage.session.pages}),(function(t){return t.BrowserStorage.history.pages}),(function(t,e,n){return r=[].concat([t],e,n).filter(Boolean),Sn()(r,(function(t){return t.time})).sort((function(t,e){return e.time-t.time}));var r})),Tr=Le((function(t){return t.BrowserStorage.session.actions}),(function(t){return t.BrowserStorage.history.actions}),(function(t,e){return n=[].concat(t,e).filter(Boolean),Sn()(n,(function(t){return t.action.time})).sort((function(t,e){return e.action.time-t.action.time}));var n})),Cr=function(t){return t.BrowserStorage.history.interactions},Nr=function(t){return t.BrowserStorage.session.interactions},Pr=Le(Nr,Cr,(function(t,e){return n={},[t,e].forEach((function(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var o=r[e],i=o[0],a=o[1];n[i]?n[i]+=a:n[i]=a}})),n;var n})),Dr=Le(Nr,Cr,(function(t,e){return lr()([].concat(Object.keys(t),Object.keys(e)).filter(Boolean))})),kr=Le((function(t){return t.BrowserStorage.crossdomain.pagesFinished}),(function(t){return t.BrowserStorage.crossdomain.actionsFinished}),(function(t){return t.BrowserStorage.crossdomain.interactionsFinished}),(function(t,e,n){return t&&e&&n})),Rr=Le((function(t){return"starting"===t.App.state}),Er,mr,(function(t,e,n){return t&&e&&!!n})),Lr=window.requestIdleCallback||function(t){var e=Date.now();return setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},Mr=window.cancelIdleCallback||function(t){clearTimeout(t)};function Gr(t){setTimeout(t,1)}var Br=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},zr=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};var Vr,Ur,Fr,Hr=!1;function Wr(t){return Br(this,void 0,void 0,(function(){var n,r,o;return zr(this,(function(i){switch(i.label){case 0:return n=t||e(),(r=(u=n,function(t){var e;return null===(e=t.BrowserStorage.serviceCache.galactusUserProfile)||void 0===e?void 0:e[u]})(sr.getState()))?[3,2]:[4,It(t)];case 1:return(o=i.sent())&&(r=kt()(a,o)),Q.debug("getGalactusUserProfile: Profile read from storage",r),[3,3];case 2:Q.debug("getGalactusUserProfile: Profile read from cache",r),i.label=3;case 3:return!Hr&&sr.getState().Config.sendGalactusRequest&&(Hr=!0,Gr((function(){return function(t){return Br(this,void 0,void 0,(function(){var e,n,r=this;return zr(this,(function(o){return e=null,n=Lr((function(){return Br(r,void 0,void 0,(function(){var r,o,i;return zr(this,(function(a){switch(a.label){case 0:if(Date.now()-0<6e4)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Rt(t)];case 2:return(r=a.sent())&&(null==r?void 0:r.profileId)&&(o=JSON.stringify(r))!==e&&(Q.debug("getGalactusUserProfile: Profile updated from Galactus",r),sr.dispatch(Fn({beaconId:t,profile:r})),function(t,e){_t(this,void 0,void 0,(function(){var n,r,o,i,a;return St(this,(function(u){switch(u.label){case 0:return xt()?[4,pt(t,e)]:[3,2];case 1:return r=u.sent(),[3,3];case 2:r=!1,u.label=3;case 3:return n=r,Ot()?[4,y(t,e)]:[3,5];case 4:return i=u.sent(),[3,6];case 5:i=!1,u.label=6;case 6:return o=i,(a=n||o)||Q.error("Failed to cache Galactus response",t,e),[2,a]}}))}))}(t,r),e=o),[3,4];case 3:return i=a.sent(),Q.error("Fail to fetch data from Galactus",i),Mr(n),[3,4];case 4:return[2]}}))}))})),[2]}))}))}(n)}))),[2,r]}var u}))}))}function $r(){return Br(this,void 0,void 0,(function(){var t,n;return zr(this,(function(r){switch(r.label){case 0:return t=e(),n=a,t?[3,1]:(nr({event:"silversurfer-exit-no-beacon",action:"loaded"}),[3,3]);case 1:return[4,Wr(t)];case 2:n=r.sent(),nr({event:"silversurfer-galactus-user-profile-loaded",action:"loaded",beaconId:t,success:!!(null==n?void 0:n.profileId),profile:n}),r.label=3;case 3:return[2,n]}}))}))}function qr(t,e){var n,r,o,i;return lr()([].concat(Object.keys(null!==(o=null===(r=null===(n=null==e?void 0:e.namespaces)||void 0===n?void 0:n.adTags)||void 0===r?void 0:r.pform)&&void 0!==o?o:[]),Object.keys(null!==(i=null==t?void 0:t.pform)&&void 0!==i?i:[])).filter(Boolean))}function Kr(t){var e,n,r;return(null!==(r=null===(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.devices)||void 0===n?void 0:n.set)&&void 0!==r?r:[]).map((function(t){return{type:Yr(t),platform:Zr(t),browser:Jr(t)}}))}function Yr(t){return t.type.toLowerCase().replace("unknown","other")}function Zr(t){var e=t.os.toLowerCase(),n=t.make.toLowerCase(),r="other";return e.includes("android")&&(r="android"),n.includes("apple")&&(r="apple"),r}function Jr(t){return t.browser.toLowerCase().replace("unknown","other")}function Xr(e){var n,r,o,i=null!==(o=null===(r=null===(n=null==e?void 0:e.namespaces)||void 0===n?void 0:n.locations)||void 0===r?void 0:r.set)&&void 0!==o?o:[],a=(Vr||function(){if(!Vr){var e=decodeURIComponent(t("Geo"));try{Vr=JSON.parse(e)||{}}catch(t){Vr={}}}}(),null==Vr?void 0:Vr.country);return lr()([].concat(i.map((function(t){return t.country})),[a]).filter(Boolean).map((function(t){return t.toUpperCase()})))}function Qr(t){var e,n,r,o,i,a,u,s,c=null!==(r=null===(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.languages)||void 0===n?void 0:n.contentLanguages)&&void 0!==r?r:[],l=null!==(a=null===(i=null===(o=null==t?void 0:t.namespaces)||void 0===o?void 0:o.languages)||void 0===i?void 0:i.acceptLanguages)&&void 0!==a?a:[],f=[null===(u=mr(sr.getState()))||void 0===u?void 0:u.pageLanguage,null===(s=wr(sr.getState()))||void 0===s?void 0:s.lang],p=[window.navigator.language.split("-")[0]],d=jr(sr.getState());return lr()([].concat(c.map((function(t){return t.languageCode})),l.map((function(t){return t.languageCode})),d.map((function(t){return null==t?void 0:t.pageLanguage})),f,p).filter(Boolean).map((function(t){return t.toLowerCase()})))}function to(t){return 1===t?Fr.FIRST_TIME_VISITOR:t<=5?Fr.RETURNING_VISITOR:Fr.FREQUENT_VISITOR}function eo(t){var e=jr(sr.getState()).length;if(e>0)return to(e);var n=[];return Object.values(t).forEach((function(t){n.push(Math.max.apply(null,Object.values(t)))})),to(Math.max.apply(null,n))}function no(t){return[eo(t)]}function ro(t,e){var n,r,o,i;return lr()([].concat(Object.keys(null!==(o=null===(r=null===(n=null==e?void 0:e.namespaces)||void 0===n?void 0:n.adTags)||void 0===r?void 0:r.tv)&&void 0!==o?o:[]),Object.keys(null!==(i=null==t?void 0:t.tv)&&void 0!==i?i:[])).filter(Boolean))}function oo(t){if("object"!=typeof t)return{};for(var e={},n=0,r=Object.entries(t);n<r.length;n++){var o=r[n],i=o[0],a=o[1];e[i]=a.reduce((function(t,e){return t[e]=1,t}),{})}return e}function io(t){if(t){var e=t.media,n=t.gnre,r=t.theme;return lr()([].concat(e?Object.keys(e):void 0,n?Object.keys(n):void 0,r?Object.keys(r):void 0).filter(Boolean))}return[]}!function(t){t.WIKI_CONTENT="wiki content",t.FEATURED_VIDEO="featured video",t.DISCUSSIONS="discussions"}(Ur||(Ur={})),function(t){t.FIRST_TIME_VISITOR="1st time visitor",t.RETURNING_VISITOR="returning visitor",t.FREQUENT_VISITOR="frequent visitor"}(Fr||(Fr={}));function ao(){var t,n;return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var r,o,i;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:return[4,$r()];case 1:return r=a.sent(),o=function(t){var e,n,r,o,i,a=null!==(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.adTags)&&void 0!==n?n:{};return fr(a)||(Q.debug("getUserProfile: Galactus AdTags are empty, fallback to history"),o=(null!==(r=jr(sr.getState()).map((function(t){return t.adTags})))&&void 0!==r?r:[]).filter(Boolean).map(oo),i={},o.forEach((function(t){for(var e,n,r=0,o=Object.entries(t);r<o.length;r++){for(var a=o[r],u=a[0],s=a[1],c=null!==(e=i[u])&&void 0!==e?e:{},l=0,f=Object.entries(s);l<f.length;l++){var p=f[l],d=p[0],h=p[1];c[d]=(null!==(n=c[d])&&void 0!==n?n:0)+h}i[u]=c}})),a=i),fr(a)&&(Q.debug("getUserProfile: History is empty, fallback to current page"),a=oo(mr(sr.getState()).adTags)),a}(r),i={beaconId:e(),gender:Object.keys(null!==(t=null==o?void 0:o.sex)&&void 0!==t?t:{}),affiliation:no(o),interactions:Dr(sr.getState()),ageBrackets:Object.keys(null!==(n=null==o?void 0:o.age)&&void 0!==n?n:{}),devices:Kr(r),language:Qr(r),country:Xr(r),interests:io(o),consoles:qr(o,r),streaming:ro(o,r),adTags:o},Q.debug("getUserProfile: Profile complete",i),[2,i]}}))}))}function uo(){return{slots:_r(sr.getState())}}var so=function(){return(so=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},co={channelId:"default",host:window,coordinatorHost:window.top},lo={connect:"connect",connected:"connected"},fo="@wikia/post-quecast";function po(t){return t.channelId&&t.libId===fo&&t.action&&function(t){return"string"==typeof t.type&&"number"==typeof t.timestamp}(t.action)}function ho(t){return!t.data.private}function vo(t,e){return t.data.channelId===e}function yo(t){return t.data.action}var bo=function(){function t(){}return t.make=function(t){return function(t){var e;return t.host===t.coordinatorHost&&!!(null===(e=t.coordinatorHost[fo])||void 0===e?void 0:e.callbackConnector)}(t)?t.coordinatorHost[fo].callbackConnector:new wo({senderHost:t.coordinatorHost,listenerHost:t.host})},t}(),go=function(){function t(t){this.coordinatorHost=t,this.callbacks=[]}return t.prototype.dispatch=function(t){var e=this;if(!po(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.callbacks.forEach((function(n){return n({data:t,source:e.coordinatorHost})}))},t.prototype.addListener=function(t){this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),wo=function(){function t(t){this.options=t,this.map=new Map}return t.prototype.dispatch=function(t){if(!po(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.options.senderHost.postMessage(t,"*")},t.prototype.addListener=function(t){var e=function(e){var n;(n=e)&&n.source&&n.data&&po(n.data)&&t(e)};this.map.set(t,e),this.options.listenerHost.addEventListener("message",e)},t.prototype.removeListener=function(t){var e=this.map.get(t);this.options.listenerHost.removeEventListener("message",e),this.map.delete(t)},t}(),mo=function(){function t(t){this.callbacks=[],this.history=[],this.channelId=t.channelId,this.connector=bo.make(t),this.setupActions(),this.setupConnection()}return t.prototype.setupActions=function(){this.getHistory(),this.listenEvent()},t.prototype.getHistory=function(){var t=this,e=function(n){if(vo(n,t.channelId)&&function(t){return!!t.data.private}(n)){var r=yo(n);(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return t.type===e}))})(r,lo.connected)&&(t.connector.removeListener(e),t.handleActions.apply(t,r.history))}};this.connector.addListener(e)},t.prototype.listenEvent=function(){var t=this;this.connector.addListener((function(e){if(vo(e,t.channelId)&&ho(e)){var n=yo(e);t.handleActions(n)}}))},t.prototype.handleActions=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];(t=this.history).push.apply(t,n),n.forEach((function(t){return e.callbacks.forEach((function(e){return e(t)}))}))},t.prototype.setupConnection=function(){this.connector.dispatch({action:{type:lo.connect,timestamp:Date.now()},channelId:this.channelId,private:!0,libId:fo})},t.prototype.addListener=function(t){this.history.forEach((function(e){return t(e)})),this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),_o=function(){function t(t){void 0===t&&(t={});var e=so(so({},co),t);this.channelId=e.channelId,this.connector=bo.make(e)}return t.prototype.dispatch=function(t){this.connector.dispatch({action:so(so({},t),{timestamp:Date.now()}),channelId:this.channelId,private:!0,libId:fo})},t}(),So=function(){function t(t){void 0===t&&(t={});var e=so(so({},co),t);this.transmitter=new _o(e),this.receiver=new mo(e)}return t.prototype.dispatch=function(t){this.transmitter.dispatch(t)},t.prototype.addListener=function(t){this.receiver.addListener(t)},t.prototype.removeListener=function(t){this.receiver.removeListener(t)},t}(),Oo=function(){function t(t,e){this.channelId=t,this.connectors=new Map,this.history=[],this.connectors.set(e,e[fo].callbackConnector)}return t.prototype.addConnection=function(t){this.ensureConnector(t).dispatch({action:this.createConnectedAction(),private:!0,channelId:this.channelId,libId:fo})},t.prototype.createConnectedAction=function(){return{type:lo.connected,history:this.history,timestamp:Date.now()}},t.prototype.broadcast=function(t){var e=this;this.history.push(t),this.connectors.forEach((function(n){n.dispatch({action:t,channelId:e.channelId,libId:fo})}))},t.prototype.ensureConnector=function(t){return this.connectors.has(t)||this.connectors.set(t,new wo({senderHost:t,listenerHost:t})),this.connectors.get(t)},t}(),xo=function(){function t(t){this.coordinatorHost=t,this.channels=new Map,this.callbackConnector=new go(t),this.postMessageConnector=new wo({senderHost:t,listenerHost:t})}return t.prototype.init=function(){var t=this,e=function(e){ho(e)||(t.handleConnect(e),t.handleBroadcast(e))};this.callbackConnector.addListener(e),this.postMessageConnector.addListener(e)},t.prototype.handleConnect=function(t){(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return t.data.action.type===e}))})(t,lo.connect)&&this.ensureChannel(t.data.channelId).addConnection(t.source)},t.prototype.handleBroadcast=function(t){(function(t){return!Object.values(lo).some((function(e){return t.data.action.type===e}))})(t)&&this.ensureChannel(t.data.channelId).broadcast(t.data.action)},t.prototype.ensureChannel=function(t){return this.channels.has(t)||this.channels.set(t,new Oo(t,this.coordinatorHost)),this.channels.get(t)},t}(),Io=function(t,e){return(Io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Eo(t,e){function n(){this.constructor=t}Io(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Ao(t){return"function"==typeof t}var jo=!1,To={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,jo=t},get useDeprecatedSynchronousErrorHandling(){return jo}};function Co(t){setTimeout((function(){throw t}),0)}var No={closed:!0,next:function(t){},error:function(t){if(To.useDeprecatedSynchronousErrorHandling)throw t;Co(t)},complete:function(){}},Po=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function Do(t){return null!==t&&"object"==typeof t}var ko=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),Ro=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,o=n._ctorUnsubscribe,i=n._unsubscribe,a=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var u=0;u<r.length;++u)r[u].remove(this);if(Ao(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(t){e=t instanceof ko?Lo(t.errors):[t]}}if(Po(a)){u=-1;for(var s=a.length;++u<s;){var c=a[u];if(Do(c))try{c.unsubscribe()}catch(t){e=e||[],t instanceof ko?e=e.concat(Lo(t.errors)):e.push(t)}}}if(e)throw new ko(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function Lo(t){return t.reduce((function(t,e){return t.concat(e instanceof ko?e.errors:e)}),[])}var Mo=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Go=function(t){function e(n,r,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=No;break;case 1:if(!n){i.destination=No;break}if("object"==typeof n){n instanceof e?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new Bo(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new Bo(i,n,r,o)}return i}return Eo(e,t),e.prototype[Mo]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(Ro),Bo=function(t){function e(e,n,r,o){var i,a=t.call(this)||this;a._parentSubscriber=e;var u=a;return Ao(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==No&&(Ao((u=Object.create(n)).unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(a))),a._context=u,a._next=i,a._error=r,a._complete=o,a}return Eo(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;To.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=To.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Co(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Co(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};To.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),To.useDeprecatedSynchronousErrorHandling)throw t;Co(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!To.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return To.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Co(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Go),zo=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Vo(t){return t}function Uo(t){return 0===t.length?Vo:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Fo=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof Go)return t;if(t[Mo])return t[Mo]()}return t||e||n?new Go(t,e,n):new Go(No)}(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||To.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),To.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){To.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof Go?r:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=Ho(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[zo]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Uo(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Ho(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function Ho(t){if(t||(t=To.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var Wo=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new $o(t,this.project,this.thisArg))},t}(),$o=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return Eo(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Go);function qo(t,e,n){return n?qo(t,e).pipe((r=function(t){return Po(t)?n.apply(void 0,t):n(t)},function(t){return t.lift(new Wo(r,undefined))})):new Fo((function(n){var r,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(o)}catch(t){return void n.error(t)}if(Ao(e))return function(){return e(o,r)}}));var r}var Ko,Yo=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Zo=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return Eo(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(Ro),Jo=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return Eo(e,t),e}(Go),Xo=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Eo(e,t),e.prototype[Mo]=function(){return new Jo(this)},e.prototype.lift=function(t){var e=new Qo(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new Yo;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new Yo;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Yo;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new Yo;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new Yo;return this.hasError?(t.error(this.thrownError),Ro.EMPTY):this.isStopped?(t.complete(),Ro.EMPTY):(this.observers.push(t),new Zo(this,t))},e.prototype.asObservable=function(){var t=new Fo;return t.source=this,t},e.create=function(t,e){return new Qo(t,e)},e}(Fo),Qo=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return Eo(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):Ro.EMPTY},e}(Xo),ti=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return Eo(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return Eo(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return Eo(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(Ro))),ei=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),ni=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Eo(e,t),e}(function(t){function e(n,r){void 0===r&&(r=ei.now);var o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return Eo(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(ei)))(ti),ri=new Fo((function(t){return t.complete()}));function oi(t){return t&&"function"==typeof t.schedule}function ii(t,e){return new Fo((function(n){var r=new Ro,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function ai(t,e){return e?ii(t,e):new Fo((n=t,function(t){for(var e=0,r=n.length;e<r&&!t.closed;e++)t.next(n[e]);t.complete()}));var n}Ko||(Ko={});var ui=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t;switch(this.kind){case"N":return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return oi(n)?(t.pop(),ii(t,n)):ai(t)}(this.value);case"E":return t=this.error,new Fo((function(e){return e.error(t)}));case"C":return function(t){return t?function(t){return new Fo((function(e){return t.schedule((function(){return e.complete()}))}))}(t):ri}()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),si=function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e)||this;return o.scheduler=n,o.delay=r,o}return Eo(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new ci(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(ui.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(ui.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(ui.createComplete()),this.unsubscribe()},e}(Go),ci=function(){return function(t,e){this.notification=t,this.destination=e}}(),li=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return Eo(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new fi(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new Yo;if(this.isStopped||this.hasError?e=Ro.EMPTY:(this.observers.push(t),e=new Zo(this,t)),o&&t.add(t=new si(t,o)),n)for(var a=0;a<i&&!t.closed;a++)t.next(r[a]);else for(a=0;a<i&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||ni).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(t-r[i].time<n);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&r.splice(0,i),r},e}(Xo),fi=function(){return function(t,e){this.time=t,this.value=e}}();class pi{constructor(){!function(t){if(void 0===t&&(t=window),!t[fo]){var e=new xo(t);e.init(),t[fo]=e}}(),this.communicator=new So,this.actions=qo((t=>this.communicator.addListener(t)),(t=>this.communicator.removeListener(t))).pipe(function(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,o=void 0===r?Number.POSITIVE_INFINITY:r,i=t.windowTime,a=void 0===i?Number.POSITIVE_INFINITY:i,u=t.refCount,s=t.scheduler,c=0,l=!1,f=!1;return function(t){var r;c++,!e||l?(l=!1,e=new li(o,a,s),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}}),f&&(n=void 0)):r=e.subscribe(this),this.add((function(){c--,r.unsubscribe(),r=void 0,n&&!f&&u&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(r))}}({refCount:!0}))}dispatch(t){this.communicator.dispatch({...t,__global:!0})}}var di,hi=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new vi(t,this.predicate,this.thisArg))},t}(),vi=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return Eo(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(Go);function yi(...t){return e=>{return e.pipe((n=e=>t.some((t=>e.type===t)),function(t){return t.lift(new hi(n,undefined))}));var n}}function bi(t){"floor_adhesion"!==t.name&&"invisible_high_impact_2"!==t.name||sr.dispatch(Ln("collapse"===t.state?"collapsed":"loaded"))}function gi(t){sr.dispatch(Mn(t.isLoaded?"loaded":"collapsed"))}function wi(){di||(Q.debug("Start listening for Ad events"),(di=new pi).actions.pipe(yi("[AdEngine] Ad Slot loaded")).subscribe(bi),di.actions.pipe(yi("[AdEngine] UAP Load status")).subscribe(gi))}var mi={id:"0",anon:!0};function _i(){var t=mr(sr.getState());return{current:t,pages:jr(sr.getState()),slots:_r(sr.getState()),user:wr(sr.getState())}}function Si(){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(n){return[2,{vertical:(e=mr(sr.getState())).productCategory,pageId:parseInt(e.pageId,10),communityId:parseInt(e.productId,10),adTags:oo(e.adTags),pages:jr(sr.getState()),recentTVCommunities:(r=t("fandom_tv_city_list_counts"),r?JSON.parse(decodeURIComponent(r)).map((function(t){return{communityId:t.c,pageViews:t.pv}})):[])}];var r}))}))}function Oi(t){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e,n;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){return function(t){return"string"==typeof(null==t?void 0:t.name)}(t)?(e=br(sr.getState()),function(t,e){var n;return null!==(n=null==e?void 0:e.findIndex((function(e){return hr(e,t)})))&&void 0!==n?n:-1}(t,e)>-1?(Q.debug("registerClient: Already registered client",t),nr({event:"silversurfer-client-registration",action:"already-registered",client:t}),[2,null]):(n=dr(t),sr.dispatch(vn(n)),Q.debug("registerClient: Client registered",n),nr({event:"silversurfer-client-registration",action:"registered",client:t}),[2,n.token])):(Q.debug("registerClient: Invalid client",t),nr({event:"silversurfer-client-registration",action:"invalid",client:t}),[2,null])}))}))}function xi(t,e){return{type:t,timestamp:Date.now(),payload:e,xv:H}}var Ii="register:response",Ei=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};const Ai=function(){function t(t,e,n,r){this._status="off",this._sending=!1,this._queue=[],this._onMessageCallback=n,this._origin=t,this._options=r,this._initialize(e)}return Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),t.prototype._log=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(null===(e=this._options)||void 0===e?void 0:e.debug)&&console.log.apply(console,Ei(["CrossDomainSender::"+t],n))},t.prototype._initialize=function(t){this._log("_initialize"),this._status="initializing";var e=document.createElement("iframe");e.style.display="none",e.sandbox="allow-same-origin allow-scripts",e.addEventListener("load",this._onIframeLoad.bind(this)),e.addEventListener("error",this._onIframeLoadError.bind(this)),e.src=t,document.body.appendChild(e),this._iframe=e},t.prototype._onIframeLoadError=function(){var t;this._log("_onIframeLoadError"),this._status="off","function"==typeof(null===(t=this._options)||void 0===t?void 0:t.onIframeError)&&this._options.onIframeError()},t.prototype._onIframeLoad=function(){this._log("_onIframeLoad");var t=new MessageChannel;t.port1.onmessage=this._onMessage.bind(this),this._sendMessage(xi("register:request"),[t.port2])},t.prototype._onMessage=function(t){var e;(null==(e=t.data)?void 0:e.xv)===H&&(this._log("_onMessage",t),t.data.type===Ii&&(this._status="ready"),"function"==typeof this._onMessageCallback&&this._onMessageCallback(t.data))},t.prototype._sendMessage=function(t,e){this._log("_sendMessage",t),this._iframe.contentWindow.postMessage(t,this._origin,e)},t.prototype._flushQueue=function(){if("ready"===this._status&&!this._sending){this._sending=!0;for(var t=void 0;void 0!==(t=this._queue.shift());)this._sendMessage(t);this._sending=!1}},t.prototype.send=function(t){this._queue.push(t),this._flushQueue()},t}();var ji;function Ti(){return F()?window.location.protocol+"//"+window.location.host:(0,V.yv)()?"https://www.fandom.com":null}var Ci=F()?500:1e4;function Ni(){if(!ji){if(sr.getState().Config.disableCrossdomain)return Q.debug("Cross domain connection disabled (on purpose)"),void sr.dispatch(Hn({status:"off",statusErrorMessage:"disabled"}));if(!Ti())return Q.debug("Cross domain connection disabled"),void sr.dispatch(Hn({status:"off",statusErrorMessage:"incorrect-origin"}));Q.debug("Initializing cross domain connection"),sr.dispatch(ar.start(or.INITIALIZE_CROSSDOMAIN)),sr.dispatch(ar.start(or.CROSSDOMAIN_READING_STORAGE_SIZE)),sr.dispatch(ar.start(or.CROSSDOMAIN_READING_INTERACTION)),sr.dispatch(ar.start(or.CROSSDOMAIN_READING_PAGEVIEW)),sr.dispatch(ar.start(or.CROSSDOMAIN_READING_ACTION)),ji=new Ai(Ti(),(t=window.location.search,gr(sr.getState())&&(t+=(t.length?"&":"?")+"cb="+Date.now()),Ti()+"/silver-surfer.html"+t),Pi,{debug:sr.getState().Config.sendDebugLog,onIframeError:function(){sr.dispatch(Hn({status:"off",statusErrorMessage:"iframe-error"}))}}),setTimeout((function(){sr.dispatch(Hn({status:"off",statusErrorMessage:"timeout"}))}),Ci)}var t}function Pi(t){switch(t.type){case Ii:return sr.dispatch(ar.stop(or.INITIALIZE_CROSSDOMAIN)),sr.dispatch(Hn({status:"ready"})),void Q.debug("Cross domain connected");case"history:response-size":var e=t.payload;return sr.dispatch(ar.stop(or.CROSSDOMAIN_READING_STORAGE_SIZE)),sr.dispatch(Kn(e)),void Q.debug("Cross domain sent storage size",e);case"history:response-interactions":var n=t.payload;return sr.dispatch(ar.stop(or.CROSSDOMAIN_READING_INTERACTION)),sr.dispatch(Jn(n)),void Q.debug("Cross domain sent history interactions",n);case"history:response-pages":var r=t.payload;return sr.dispatch(ar.stop(or.CROSSDOMAIN_READING_PAGEVIEW)),sr.dispatch(Yn(r)),void Q.debug("Cross domain sent history pages",r);case"history:response-actions":var o=t.payload;return sr.dispatch(ar.stop(or.CROSSDOMAIN_READING_ACTION)),sr.dispatch(Zn(o)),void Q.debug("Cross domain sent history actions",o);case"pageview:response":return sr.dispatch(ar.stop(or.CROSSDOMAIN_SAVING_PAGEVIEW)),void Q.debug("Cross domain pageview ack");case"add-action:response":return sr.dispatch(ar.stop(or.CROSSDOMAIN_SAVING_ACTION)),void Q.debug("Cross domain action ack");case"add-interaction:response":return sr.dispatch(ar.stop(or.CROSSDOMAIN_SAVING_INTERACTION)),void Q.debug("Cross domain interaction ack")}}function Di(t){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(e){return Q.debug("New interaction",t),sr.dispatch(qn(t)),function(t){ji&&"ready"===ji.status&&(Q.debug("Sending cross domain interaction",t),sr.dispatch(ar.start(or.CROSSDOMAIN_SAVING_INTERACTION)),ji.send(function(t){return xi("add-interaction:request",t)}(t)))}(t),[2]}))}))}var ki,Ri,Li=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},Mi=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Gi=(ki={eventCheck:function(){return Ar(sr.getState())},intervalTime:100,maxWaitTime:5e3,onReject:function(){return Tr(sr.getState())},onResolve:function(){return Tr(sr.getState())}},Ri=0,function(){return new Promise((function(t,e){var n=setInterval((function(){ki.eventCheck()&&(clearInterval(n),t(null==ki?void 0:ki.onResolve())),ki.intervalTime*Ri>ki.maxWaitTime&&(clearInterval(n),e(null==ki?void 0:ki.onReject())),Ri++}),ki.intervalTime)}))});function Bi(){return Li(this,void 0,void 0,(function(){var t;return Mi(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Gi()];case 1:return[2,e.sent()];case 2:return t=e.sent(),Array.isArray(t)?[2,t]:(Q.error("Error getting actions",t),[3,3]);case 3:return[2,[]]}}))}))}function zi(t){var e=function(t){return Le(br,(function(e){return e.find((function(e){return e.token===t}))}))}(t)(sr.getState());if(!e)throw new Error("Incorrect token");return e}function Vi(t,e){return Li(this,void 0,void 0,(function(){var n,r;return Mi(this,(function(o){switch(o.label){case 0:return n=zi(t),r=vr,[4,Bi()];case 1:return[2,r.apply(void 0,[o.sent(),n,e])]}}))}))}function Ui(t){return Li(this,void 0,void 0,(function(){return Mi(this,(function(e){switch(e.label){case 0:return F()||zi(t),[4,Bi()];case 1:return[2,e.sent()]}}))}))}function Fi(t,e,n,r){return Li(this,void 0,void 0,(function(){var o,i;return Mi(this,(function(a){return o=zi(t),i=function(t,e,n,r){return{client:t,action:{time:Date.now(),name:e,type:n,payload:r}}}(o,e,n,r),Q.debug("New action",i),sr.dispatch($n(i)),function(t){ji&&"ready"===ji.status&&(Q.debug("Sending cross domain action",t),sr.dispatch(ar.start(or.CROSSDOMAIN_SAVING_ACTION)),ji.send(function(t){return xi("add-action:request",t)}(t)))}(i),[2]}))}))}var Hi=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},Wi=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function $i(t,e){for(var n=0;n<e.length-1;n++)if(t>=e[n]&&t<e[n+1])return e[n+1];return null}var qi=function(t){return $i(t,[0,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,2e6,5e6])},Ki=function(t){return $i(t,[0,1,2,5,10,20,50,100,200,500,1e3])},Yi=function(t){return $i(t,[0,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5])};var Zi=n(8446),Ji=n.n(Zi);function Xi(t,e,n){var r;function o(){var o=e(t.getState());Ji()(o,r)||n(r=o)}var i=t.subscribe(o);return o(),i}var Qi,ta=function(t,e){return e===mt.BOTH?t:t+"-"+e};!function(t){t.ADD="add",t.CLICK="click",t.CLOSE="close",t.CONFIRM="confirm",t.CREATE="create",t.DISABLE="disable",t.ENABLE="enable",t.ERROR="error",t.HOVER="hover",t.IMPRESSION="impression",t.KEYPRESS="keypress",t.NO_IMPRESSION="no-impression",t.OPEN="open",t.PLAY_VIDEO="play-video",t.REACTION="reaction",t.REMOVE="remove",t.SELECT="select",t.SHARE="share",t.SUBMIT="submit",t.SUCCESS="success",t.SWIPE="swipe",t.VIEW="view",t.REACTION_COUNT="reaction-count"}(Qi||(Qi={}));var ea=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},na=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ra={getContext:_i,getRealtimeContext:uo,registerClient:Oi,getLocalContext:Si,getUserProfile:ao,addInteraction:Di,ACTION:Qi,addAction:Fi,getAllActions:Ui,getActions:Vi,getGalactusUserProfile:Wr,isCrossdomainFinished:pa,isInitialized:da,getVersionHash:ha},oa=Qi;function ia(){return uo()}function aa(t){return Oi(t)}function ua(t,e,n,r){return Fi(t,e,n,r)}function sa(t,e){return Vi(t,e)}function ca(t){return Ui(t)}function la(){return ao()}function fa(t){return Di(t)}function pa(){return kr(sr.getState())}function da(){return"ready"===sr.getState().App.state}function ha(){return H}function va(t){return Wr(t||e())}function ya(){return _i()}function ba(){return Si()}function ga(){return document.cookie.includes("ss_galactus_enabled")}function wa(){var t=Xi(sr,xr,(function(e){e&&(t(),sr.dispatch(ar.stop(or.INITIALIZE_CROSSDOMAIN_HISTORY)),Q.debug("Cross domain initialized:",Sr(sr.getState()),Or(sr.getState())),function(){Hi(this,void 0,void 0,(function(){return Wi(this,(function(t){return e=zn(mr(sr.getState())),ji&&"ready"===ji.status&&(Q.debug("Tracking cross domain page",e),sr.dispatch(ar.start(or.CROSSDOMAIN_SAVING_PAGEVIEW)),ji.send(xi("pageview:request",e))),[2];var e}))}))}(),Gr((function(){return function(t){var e=Ir(sr.getState()),n={version:H,crossDomain:e},r={crossDomain:e},o=yr(sr.getState(),"bootstrap");o&&!(null==o?void 0:o.isRunning)&&(r.bootTimer=o.time,n.bootTimer=Yi(o.time));var i=mr(sr.getState());if(null==i?void 0:i.time){var a=Date.now()-i.time;r.bootTotalTimer=a,n.bootTotalTimer=Yi(a)}var u=sr.getState().BrowserStorage.local.size,s=u.localStorageSize,c=u.indexedDBSize;if(r.currentDomainLocalStorage=s,r.currentDomainIndexedDB=c,r.countActions=Tr(sr.getState()).length,r.countPages=jr(sr.getState()).length,n.currentDomainLocalStorage=qi(s),n.currentDomainIndexedDB=qi(c),n.countActions=Ki(Tr(sr.getState()).length),n.countPages=Ki(jr(sr.getState()).length),e){var l=yr(sr.getState(),"cross-domain-initialize");l&&!(null==l?void 0:l.isRunning)&&(r.crossDomainBootTimer=l.time,n.crossDomainBootTimer=Yi(l.time));var f=yr(sr.getState(),"cross-domain-pageview-roundtrip");f&&!(null==f?void 0:f.isRunning)&&(r.crossDomainRoundtripTimer=f.time,n.crossDomainRoundtripTimer=Yi(f.time));var p=sr.getState().BrowserStorage.crossdomain.size,d=p.localStorageSize,h=p.indexedDBSize;r.crossDomainLocalStorage=d,r.crossDomainIndexedDB=h,n.crossDomainLocalStorage=qi(d),n.crossDomainIndexedDB=qi(h)}else r.crossDomainMessage=Or(sr.getState()),n.crossDomainMessage=Or(sr.getState());Q.debug("Performance stats",r)}(gr(sr.getState()))})))})),e=Xi(sr,pa,(function(t){t&&(e(),sr.dispatch(ar.stop(or.INITIALIZE_CROSSDOMAIN_HISTORY)),Q.debug("Cross domain finished"))}))}!function(){ea(this,void 0,void 0,(function(){return na(this,(function(t){return"new"===sr.getState().App.state&&(Q.debug("Booting...",H),sr.dispatch(ar.start(or.BOOTSTRAP)),sr.dispatch(hn.starting()),gr(sr.getState())&&(Q.debug("Sending all the timing events"),sr.dispatch(ur())),function(){var t=this,e=Xi(sr,Rr,(function(n){return ea(t,void 0,void 0,(function(){return na(this,(function(t){var r;return n&&(Q.debug("Booted and ready"),e(),sr.dispatch(ar.stop(or.BOOTSTRAP)),sr.dispatch(hn.ready()),Xi(sr,jr,(function(t){sr.dispatch(ar.start(or.LOCAL_SAVING_PAGEVIEW)),function(t){return _t(this,void 0,void 0,(function(){var e,n,r,o,i;return St(this,(function(a){switch(a.label){case 0:return xt()?[4,ht(t)]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n=!1,a.label=3;case 3:return e=n,Ot()?[4,w(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return r=o,(i=e||r)?Q.debug("Local pages updated from cross domain"):Q.error("Failed to update local pages"),[2,i]}}))}))}(t.map(zn)).then((function(){sr.dispatch(ar.stop(or.LOCAL_SAVING_PAGEVIEW)),Q.debug("LocalStorage pages saved",t)}))})),Xi(sr,Tr,(function(t){sr.dispatch(ar.start(or.LOCAL_SAVING_ACTION)),function(t){return _t(this,void 0,void 0,(function(){var e,n,r,o,i;return St(this,(function(a){switch(a.label){case 0:return xt()?[4,gt(t)]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n=!1,a.label=3;case 3:return e=n,Ot()?[4,_(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return r=o,(i=e||r)?Q.debug("Local actions updated from cross domain"):Q.error("Failed to update local actions"),[2,i]}}))}))}(t).then((function(){sr.dispatch(ar.stop(or.LOCAL_SAVING_ACTION)),Q.debug("LocalStorage actions saved",t)}))})),Xi(sr,Pr,(function(t){sr.dispatch(ar.start(or.LOCAL_SAVING_INTERACTION)),function(t){return _t(this,void 0,void 0,(function(){var e,n,r,o,i;return St(this,(function(a){switch(a.label){case 0:return xt()?[4,vt(t)]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n=!1,a.label=3;case 3:return e=n,Ot()?[4,b(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return r=o,(i=e||r)?Q.debug("Local interactions updated from cross domain"):Q.error("Failed to update local interactions"),[2,i]}}))}))}(t).then((function(){sr.dispatch(ar.stop(or.LOCAL_SAVING_INTERACTION)),Q.debug("LocalStorage interactions saved",t)}))})),function(){Hi(this,void 0,void 0,(function(){var t,e;return Wi(this,(function(n){return t=mr(sr.getState()),e=zn(t),Q.debug("Tracking local page",e),sr.dispatch(Wn(e)),[2]}))}))}(),la(),(sr.getState().Config.sendTracking||ga())&&(ga()||((r=new Date).setMonth(r.getMonth()+12),document.cookie="ss_galactus_enabled=true;expires="+r+";domain=.fandom.com;path=/")),Gr(Ni)),[2]}))}))}))}(),wa(),sr.dispatch(ar.start(or.INITIALIZE_CONTEXT)),function(){var t=xn(In()),e=function(){if("object"!=typeof(null===window||void 0===window?void 0:window._ulc))return mi;var t=window._ulc;return void 0===(null==t?void 0:t.anon)&&(t.anon=t.id===mi.id),t}();Q.debug("Reading context from window",{plc:t,ulc:e}),sr.dispatch(Rn(t)),sr.dispatch(kn(e))}(),Gr(wi),sr.dispatch(ar.stop(or.INITIALIZE_CONTEXT)),function(){!function(t,e,n,r){new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var t,e,n,r,o,i;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:return t=Math.random()<.05?0==Math.floor(2*Math.random())?mt.INDEXEDDB:mt.LOCALSTORAGE:mt.BOTH,sr.dispatch(ar.start(ta(or.INITIALIZE_LOCAL_HISTORY,t))),sr.dispatch(ar.start(ta(or.LOCAL_READING_PAGEVIEW,t))),[4,Et(t)];case 1:return e=a.sent(),sr.dispatch(ar.stop(ta(or.LOCAL_READING_PAGEVIEW,t))),sr.dispatch(ar.start(ta(or.LOCAL_READING_ACTION,t))),[4,At(t)];case 2:return n=a.sent(),sr.dispatch(ar.stop(ta(or.LOCAL_READING_ACTION,t))),sr.dispatch(ar.start(ta(or.LOCAL_READING_INTERACTION,t))),[4,jt(t)];case 3:return r=a.sent(),sr.dispatch(ar.stop(ta(or.LOCAL_READING_INTERACTION,t))),o={interactions:r,actions:n,pages:e},Q.debug("Read from local domain",o),sr.dispatch(ar.stop(ta(or.INITIALIZE_LOCAL_HISTORY,t))),sr.dispatch(Xn(o)),sr.dispatch(ar.start(ta(or.LOCAL_READING_STORAGE_SIZE,t))),[4,Tt(t)];case 4:return i=a.sent(),sr.dispatch(ar.stop(ta(or.LOCAL_READING_STORAGE_SIZE,t))),sr.dispatch(Qn(i)),nr({action:"loaded",event:"silversurfer-track-page",category:"silversurfer",pageEntry:zn(mr(sr.getState())),totalPagesTracked:e.length,totalPropertiesTracked:(u=e,u.reduce((function(t,e){return t+Object.keys(e).length}),0))}),[2]}var u}))}))}()),[2]}))}))}();const ma=ra})(),r})()}));